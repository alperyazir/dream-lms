# Dream LMS Technical Architecture

## Table of Contents

- [Dream LMS Technical Architecture](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [1. System Overview & Architecture Diagram](./1-system-overview-architecture-diagram.md)
    - [1.1 Architecture Philosophy](./1-system-overview-architecture-diagram.md#11-architecture-philosophy)
    - [1.2 Template Customization Strategy](./1-system-overview-architecture-diagram.md#12-template-customization-strategy)
      - [1.2.1 What We Keep from Template](./1-system-overview-architecture-diagram.md#121-what-we-keep-from-template)
      - [1.2.2 What We Replace in Template](./1-system-overview-architecture-diagram.md#122-what-we-replace-in-template)
      - [1.2.3 What We Remove from Template](./1-system-overview-architecture-diagram.md#123-what-we-remove-from-template)
    - [1.3 High-Level System Architecture](./1-system-overview-architecture-diagram.md#13-high-level-system-architecture)
    - [1.4 Component Responsibilities](./1-system-overview-architecture-diagram.md#14-component-responsibilities)
      - [1.4.1 Frontend (React Application)](./1-system-overview-architecture-diagram.md#141-frontend-react-application)
      - [1.4.2 Backend API (FastAPI Application)](./1-system-overview-architecture-diagram.md#142-backend-api-fastapi-application)
      - [1.4.3 Database (PostgreSQL)](./1-system-overview-architecture-diagram.md#143-database-postgresql)
      - [1.4.4 Reverse Proxy (Traefik)](./1-system-overview-architecture-diagram.md#144-reverse-proxy-traefik)
      - [1.4.5 Dream Central Storage (External - MinIO)](./1-system-overview-architecture-diagram.md#145-dream-central-storage-external-minio)
    - [1.5 Data Flow Examples](./1-system-overview-architecture-diagram.md#15-data-flow-examples)
      - [Example 1: Student Completes Assignment](./1-system-overview-architecture-diagram.md#example-1-student-completes-assignment)
      - [Example 2: Teacher Views Class Analytics](./1-system-overview-architecture-diagram.md#example-2-teacher-views-class-analytics)
    - [1.6 Technology Stack Summary](./1-system-overview-architecture-diagram.md#16-technology-stack-summary)
  - [2. Database Schema Design](./2-database-schema-design.md)
    - [2.1 Entity Relationship Diagram (ERD)](./2-database-schema-design.md#21-entity-relationship-diagram-erd)
    - [2.2 Complete Table Definitions](./2-database-schema-design.md#22-complete-table-definitions)
      - [2.2.1 User Management Tables](./2-database-schema-design.md#221-user-management-tables)
      - [2.2.2 Content & Book Management Tables](./2-database-schema-design.md#222-content-book-management-tables)
      - [2.2.3 Class Management Tables](./2-database-schema-design.md#223-class-management-tables)
      - [2.2.4 Assignment & Completion Tables](./2-database-schema-design.md#224-assignment-completion-tables)
      - [2.2.5 Communication Tables](./2-database-schema-design.md#225-communication-tables)
      - [2.2.6 Material Management Tables](./2-database-schema-design.md#226-material-management-tables)
    - [2.3 Composite Indexes for Analytics](./2-database-schema-design.md#23-composite-indexes-for-analytics)
    - [2.4 Database Functions & Triggers](./2-database-schema-design.md#24-database-functions-triggers)
    - [2.5 Data Retention Policy](./2-database-schema-design.md#25-data-retention-policy)
  - [3. API Architecture](./3-api-architecture.md)
    - [3.1 RESTful API Design Principles](./3-api-architecture.md#31-restful-api-design-principles)
    - [3.2 API Versioning Strategy](./3-api-architecture.md#32-api-versioning-strategy)
    - [3.3 Authentication & Authorization Flow](./3-api-architecture.md#33-authentication-authorization-flow)
    - [3.4 Complete API Endpoint Specification](./3-api-architecture.md#34-complete-api-endpoint-specification)
      - [3.4.1 Authentication Endpoints](./3-api-architecture.md#341-authentication-endpoints)
      - [3.4.2 User Management Endpoints](./3-api-architecture.md#342-user-management-endpoints)
      - [3.4.3 Class Management Endpoints](./3-api-architecture.md#343-class-management-endpoints)
      - [3.4.4 Book & Activity Endpoints](./3-api-architecture.md#344-book-activity-endpoints)
      - [3.4.5 Assignment Endpoints](./3-api-architecture.md#345-assignment-endpoints)
      - [3.4.6 Analytics Endpoints](./3-api-architecture.md#346-analytics-endpoints)
      - [3.4.7 Communication Endpoints](./3-api-architecture.md#347-communication-endpoints)
      - [3.4.8 Material Endpoints](./3-api-architecture.md#348-material-endpoints)
    - [3.5 Request/Response Formats](./3-api-architecture.md#35-requestresponse-formats)
    - [3.6 Rate Limiting](./3-api-architecture.md#36-rate-limiting)
    - [3.7 API Documentation](./3-api-architecture.md#37-api-documentation)
  - [4. Dream Central Storage Integration](./4-dream-central-storage-integration.md)
    - [4.1 Overview](./4-dream-central-storage-integration.md#41-overview)
    - [4.2 MinIO Client Architecture](./4-dream-central-storage-integration.md#42-minio-client-architecture)
    - [4.3 Activity Config Transformation](./4-dream-central-storage-integration.md#43-activity-config-transformation)
    - [4.4 Book Catalog Sync](./4-dream-central-storage-integration.md#44-book-catalog-sync)
    - [4.5 Teacher Material Upload](./4-dream-central-storage-integration.md#45-teacher-material-upload)
    - [4.6 Caching Strategy](./4-dream-central-storage-integration.md#46-caching-strategy)
    - [4.7 Error Handling](./4-dream-central-storage-integration.md#47-error-handling)
  - [5. Frontend Architecture](./5-frontend-architecture.md)
    - [5.1 Project Structure](./5-frontend-architecture.md#51-project-structure)
    - [5.2 State Management](./5-frontend-architecture.md#52-state-management)
    - [5.3 Routing & Protected Routes](./5-frontend-architecture.md#53-routing-protected-routes)
    - [5.4 API Service Layer](./5-frontend-architecture.md#54-api-service-layer)
  - [6. Activity Player Architecture](./6-activity-player-architecture.md)
    - [6.1 Activity Rendering Engine](./6-activity-player-architecture.md#61-activity-rendering-engine)
    - [6.2 Scoring Algorithms](./6-activity-player-architecture.md#62-scoring-algorithms)
  - [7. Analytics Engine](./7-analytics-engine.md)
    - [7.1 Performance Calculation Queries](./7-analytics-engine.md#71-performance-calculation-queries)
    - [7.2 Error Pattern Detection](./7-analytics-engine.md#72-error-pattern-detection)
  - [8. Deployment Architecture](./8-deployment-architecture.md)
    - [8.1 Docker Compose Configuration](./8-deployment-architecture.md#81-docker-compose-configuration)
    - [8.2 Traefik Configuration](./8-deployment-architecture.md#82-traefik-configuration)
  - [9. Security Architecture](./9-security-architecture.md)
    - [9.1 Template-Provided Security (Already Implemented)](./9-security-architecture.md#91-template-provided-security-already-implemented)
    - [9.2 LMS Extension: 4-Role RBAC System](./9-security-architecture.md#92-lms-extension-4-role-rbac-system)
    - [9.3 Frontend Authentication (Template-Provided + Extended)](./9-security-architecture.md#93-frontend-authentication-template-provided-extended)
    - [9.4 Security Best Practices](./9-security-architecture.md#94-security-best-practices)
  - [10. Testing Strategy](./10-testing-strategy.md)
    - [10.1 Template-Provided Testing Infrastructure](./10-testing-strategy.md#101-template-provided-testing-infrastructure)
    - [10.2 Backend Testing (pytest) - LMS Extensions](./10-testing-strategy.md#102-backend-testing-pytest-lms-extensions)
    - [10.3 Frontend Testing - LMS Extensions](./10-testing-strategy.md#103-frontend-testing-lms-extensions)
    - [10.4 Testing Scripts](./10-testing-strategy.md#104-testing-scripts)
  - [11. Scalability Considerations](./11-scalability-considerations.md)
    - [11.1 Current MVP Limitations](./11-scalability-considerations.md#111-current-mvp-limitations)
    - [11.2 Scaling Path](./11-scalability-considerations.md#112-scaling-path)
  - [12. Monitoring & Logging](./12-monitoring-logging.md)
    - [12.1 Structured Logging](./12-monitoring-logging.md#121-structured-logging)
    - [12.2 Application Performance Monitoring](./12-monitoring-logging.md#122-application-performance-monitoring)
  - [13. Implementation Priorities](./13-implementation-priorities.md)
    - [Epic 1: Extend Template for LMS Domain (Weeks 1-3) - Backend](./13-implementation-priorities.md#epic-1-extend-template-for-lms-domain-weeks-1-3-backend)
    - [Epic 2: UI Migration & LMS Pages (Weeks 4-8) - Frontend with Mock Data](./13-implementation-priorities.md#epic-2-ui-migration-lms-pages-weeks-4-8-frontend-with-mock-data)
    - [Epic 3: Books & Assignments Backend + Integration (Weeks 9-11)](./13-implementation-priorities.md#epic-3-books-assignments-backend-integration-weeks-9-11)
    - [Epic 4: Activity Players Backend + Integration (Weeks 12-16)](./13-implementation-priorities.md#epic-4-activity-players-backend-integration-weeks-12-16)
    - [Epic 5: Analytics Backend + Integration (Weeks 17-18)](./13-implementation-priorities.md#epic-5-analytics-backend-integration-weeks-17-18)
    - [Epic 6: Messaging & Materials Backend + Integration (Weeks 19-20)](./13-implementation-priorities.md#epic-6-messaging-materials-backend-integration-weeks-19-20)
    - [Total Timeline: ~20 weeks (5 months)](./13-implementation-priorities.md#total-timeline-20-weeks-5-months)
  - [Conclusion](./conclusion.md)
