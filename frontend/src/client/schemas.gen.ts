// This file is auto-generated by @hey-api/openapi-ts

export const AIQuizSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        questions: {
            items: {
                '$ref': '#/components/schemas/AIQuizQuestion'
            },
            type: 'array',
            title: 'Questions'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        language: {
            type: 'string',
            title: 'Language'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['quiz_id', 'book_id', 'module_ids', 'questions', 'difficulty', 'language', 'created_at'],
    title: 'AIQuiz',
    description: `A complete AI-generated quiz with all questions.

This is the full quiz representation stored internally,
including correct answers and explanations.

Attributes:
    quiz_id: Unique identifier for the quiz.
    book_id: ID of the book the quiz is generated from.
    module_ids: List of module IDs used for the quiz.
    questions: List of quiz questions with answers.
    difficulty: Overall difficulty level of the quiz.
    language: Language of the quiz content.
    created_at: When the quiz was generated.`
} as const;

export const AIQuizGenerationRequestSchema = {
    properties: {
        source_type: {
            type: 'string',
            enum: ['book', 'material'],
            title: 'Source Type',
            description: 'Source type: book or material.',
            default: 'book'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            minItems: 1,
            title: 'Module Ids',
            description: 'At least one module ID required.'
        },
        difficulty: {
            type: 'string',
            enum: ['auto', 'easy', 'medium', 'hard'],
            title: 'Difficulty',
            description: 'Difficulty level: auto, easy, medium, or hard.',
            default: 'medium'
        },
        question_count: {
            type: 'integer',
            maximum: 50,
            minimum: 1,
            title: 'Question Count',
            description: 'Number of questions (1-50).',
            default: 10
        },
        language: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Language',
            description: 'Language code. Auto-detected if not provided.'
        },
        include_explanations: {
            type: 'boolean',
            title: 'Include Explanations',
            description: 'Whether to include explanations for correct answers.',
            default: true
        }
    },
    type: 'object',
    required: ['book_id', 'module_ids'],
    title: 'AIQuizGenerationRequest',
    description: `Request to generate an AI-powered MCQ quiz from book modules.

Attributes:
    source_type: Source type (book or material). Defaults to book.
    book_id: ID of the book to generate quiz from.
    module_ids: List of module IDs to use as source content (at least one).
    difficulty: Difficulty level affecting question complexity.
    question_count: Number of questions to generate (1-20).
    language: Language for questions. If None, auto-detected from modules.
    include_explanations: Whether to include explanations for correct answers.`
} as const;

export const AIQuizPublicSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        questions: {
            items: {
                '$ref': '#/components/schemas/AIQuizQuestionPublic'
            },
            type: 'array',
            title: 'Questions'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        language: {
            type: 'string',
            title: 'Language'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        question_count: {
            type: 'integer',
            title: 'Question Count'
        }
    },
    type: 'object',
    required: ['quiz_id', 'book_id', 'module_ids', 'questions', 'difficulty', 'language', 'created_at', 'question_count'],
    title: 'AIQuizPublic',
    description: `Public version of quiz without correct answers.

Returned to students when they access a quiz for taking.

Attributes:
    quiz_id: Unique identifier for the quiz.
    book_id: ID of the book the quiz is generated from.
    module_ids: List of module IDs used for the quiz.
    questions: List of quiz questions without answers.
    difficulty: Overall difficulty level of the quiz.
    language: Language of the quiz content.
    created_at: When the quiz was generated.
    question_count: Number of questions in the quiz.`
} as const;

export const AIQuizQuestionSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        options: {
            items: {
                type: 'string'
            },
            type: 'array',
            maxItems: 4,
            minItems: 4,
            title: 'Options'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        correct_index: {
            type: 'integer',
            maximum: 3,
            minimum: 0,
            title: 'Correct Index'
        },
        explanation: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Explanation'
        },
        source_module_id: {
            type: 'integer',
            title: 'Source Module Id'
        },
        source_page: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Source Page'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        }
    },
    type: 'object',
    required: ['question_id', 'question_text', 'options', 'correct_answer', 'correct_index', 'source_module_id', 'difficulty'],
    title: 'AIQuizQuestion',
    description: `A single MCQ question in an AI quiz.

Contains the question text, options, correct answer, and optional
explanation. Internal version with correct answer visible.

Attributes:
    question_id: Unique identifier for the question.
    question_text: The question prompt.
    options: List of 4 answer options.
    correct_answer: The correct option text.
    correct_index: Index of correct answer (0-3).
    explanation: Explanation of why the answer is correct.
    source_module_id: Module ID the question is derived from.
    source_page: Page number reference (optional).
    difficulty: Difficulty level of the question.`
} as const;

export const AIQuizQuestionPublicSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        options: {
            items: {
                type: 'string'
            },
            type: 'array',
            maxItems: 4,
            minItems: 4,
            title: 'Options'
        },
        source_module_id: {
            type: 'integer',
            title: 'Source Module Id'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        }
    },
    type: 'object',
    required: ['question_id', 'question_text', 'options', 'source_module_id', 'difficulty'],
    title: 'AIQuizQuestionPublic',
    description: `Public version of quiz question without the correct answer.

Used when returning quiz questions to students before submission.
The correct_answer, correct_index, and explanation fields are omitted.

Attributes:
    question_id: Unique identifier for the question.
    question_text: The question prompt.
    options: List of 4 answer options.
    source_module_id: Module ID the question is derived from.
    difficulty: Difficulty level of the question.`
} as const;

export const AIQuizQuestionResultSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        options: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Options'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        correct_index: {
            type: 'integer',
            title: 'Correct Index'
        },
        student_answer_index: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Student Answer Index'
        },
        student_answer: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Student Answer'
        },
        is_correct: {
            type: 'boolean',
            title: 'Is Correct'
        },
        explanation: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Explanation'
        },
        source_module_id: {
            type: 'integer',
            title: 'Source Module Id'
        }
    },
    type: 'object',
    required: ['question_id', 'question_text', 'options', 'correct_answer', 'correct_index', 'student_answer_index', 'student_answer', 'is_correct', 'source_module_id'],
    title: 'AIQuizQuestionResult',
    description: `Result for a single question after submission.

Attributes:
    question_id: ID of the question.
    question_text: The question that was asked.
    options: All answer options.
    correct_answer: The correct answer text.
    correct_index: Index of the correct answer.
    student_answer_index: The index the student selected.
    student_answer: The answer text the student selected.
    is_correct: Whether the student's answer was correct.
    explanation: Explanation of the correct answer.
    source_module_id: Module the question came from.`
} as const;

export const AIQuizResultSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        score: {
            type: 'integer',
            minimum: 0,
            title: 'Score'
        },
        total: {
            type: 'integer',
            minimum: 1,
            title: 'Total'
        },
        percentage: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Percentage'
        },
        question_results: {
            items: {
                '$ref': '#/components/schemas/AIQuizQuestionResult'
            },
            type: 'array',
            title: 'Question Results'
        },
        submitted_at: {
            type: 'string',
            format: 'date-time',
            title: 'Submitted At'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        }
    },
    type: 'object',
    required: ['quiz_id', 'student_id', 'score', 'total', 'percentage', 'question_results', 'submitted_at', 'difficulty'],
    title: 'AIQuizResult',
    description: `Complete results of a submitted AI quiz.

Returned after a student submits their answers, revealing
the correct answers, explanations, and calculating the score.

Attributes:
    quiz_id: ID of the quiz.
    student_id: ID of the student who submitted.
    score: Number of correct answers.
    total: Total number of questions.
    percentage: Score as a percentage (0-100).
    question_results: Detailed results for each question.
    submitted_at: When the quiz was submitted.
    difficulty: Difficulty level of the quiz.`
} as const;

export const AIQuizSubmissionSchema = {
    properties: {
        answers: {
            additionalProperties: {
                type: 'integer'
            },
            type: 'object',
            title: 'Answers',
            description: 'Map of question_id to selected answer index (0-3).'
        }
    },
    type: 'object',
    required: ['answers'],
    title: 'AIQuizSubmission',
    description: `Student's submission of quiz answers.

Maps question IDs to the selected answer index.

Attributes:
    answers: Dictionary mapping question_id to selected option index (0-3).`
} as const;

export const AchievementSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        type: {
            type: 'string',
            title: 'Type'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        description: {
            type: 'string',
            title: 'Description'
        },
        earned_at: {
            type: 'string',
            format: 'date-time',
            title: 'Earned At'
        },
        icon: {
            type: 'string',
            title: 'Icon'
        }
    },
    type: 'object',
    required: ['id', 'type', 'title', 'description', 'earned_at', 'icon'],
    title: 'Achievement',
    description: 'Student achievement/badge.'
} as const;

export const ActivityAnalyticsItemSchema = {
    properties: {
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Title'
        },
        page_number: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Page Number'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        class_average_score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Class Average Score'
        },
        completion_rate: {
            type: 'number',
            title: 'Completion Rate'
        },
        completed_count: {
            type: 'integer',
            title: 'Completed Count'
        },
        total_assigned_count: {
            type: 'integer',
            title: 'Total Assigned Count'
        }
    },
    type: 'object',
    required: ['activity_id', 'activity_title', 'page_number', 'activity_type', 'class_average_score', 'completion_rate', 'completed_count', 'total_assigned_count'],
    title: 'ActivityAnalyticsItem',
    description: 'Analytics data for a single activity within a multi-activity assignment.'
} as const;

export const ActivityBreakdownItemSchema = {
    properties: {
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['activity_type', 'avg_score', 'count'],
    title: 'ActivityBreakdownItem',
    description: 'Performance breakdown by activity type.'
} as const;

export const ActivityCoordsSchema = {
    properties: {
        x: {
            type: 'integer',
            title: 'X'
        },
        y: {
            type: 'integer',
            title: 'Y'
        },
        w: {
            type: 'integer',
            title: 'W'
        },
        h: {
            type: 'integer',
            title: 'H'
        }
    },
    type: 'object',
    required: ['x', 'y', 'w', 'h'],
    title: 'ActivityCoords',
    description: 'Coordinates for an activity marker on a page.'
} as const;

export const ActivityInfoSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        order_index: {
            type: 'integer',
            title: 'Order Index',
            default: 0
        }
    },
    type: 'object',
    required: ['id', 'title', 'activity_type'],
    title: 'ActivityInfo',
    description: 'Minimal activity info for assignment response.'
} as const;

export const ActivityMarkerSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        section_index: {
            type: 'integer',
            title: 'Section Index'
        },
        coords: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/ActivityCoords'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['id', 'title', 'activity_type', 'section_index', 'coords'],
    title: 'ActivityMarker',
    description: 'Activity marker with position and metadata for page viewer.'
} as const;

export const ActivityPreviewResponseSchema = {
    properties: {
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        config_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Config Json'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_name: {
            type: 'string',
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        is_preview: {
            type: 'boolean',
            title: 'Is Preview',
            default: true
        }
    },
    type: 'object',
    required: ['activity_id', 'activity_title', 'activity_type', 'config_json', 'book_id', 'book_name', 'publisher_name'],
    title: 'ActivityPreviewResponse',
    description: `Response schema for single activity preview.

Returns activity data in student-view format for teacher preview.`
} as const;

export const ActivityProgressInfoSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        status: {
            type: 'string',
            title: 'Status'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        max_score: {
            type: 'number',
            title: 'Max Score'
        },
        response_data: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Response Data'
        },
        started_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Started At'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        }
    },
    type: 'object',
    required: ['id', 'activity_id', 'status', 'score', 'max_score', 'response_data', 'started_at', 'completed_at'],
    title: 'ActivityProgressInfo',
    description: 'Per-activity progress info for multi-activity assignments.'
} as const;

export const ActivityProgressSaveRequestSchema = {
    properties: {
        response_data: {
            additionalProperties: true,
            type: 'object',
            title: 'Response Data'
        },
        time_spent_seconds: {
            type: 'integer',
            title: 'Time Spent Seconds',
            default: 0
        },
        status: {
            type: 'string',
            title: 'Status',
            default: 'in_progress'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        max_score: {
            type: 'number',
            title: 'Max Score',
            default: 100
        }
    },
    type: 'object',
    required: ['response_data'],
    title: 'ActivityProgressSaveRequest',
    description: 'Request schema for saving per-activity progress.'
} as const;

export const ActivityProgressSaveResponseSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        },
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        status: {
            type: 'string',
            title: 'Status'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        last_saved_at: {
            type: 'string',
            format: 'date-time',
            title: 'Last Saved At'
        }
    },
    type: 'object',
    required: ['message', 'activity_id', 'status', 'score', 'last_saved_at'],
    title: 'ActivityProgressSaveResponse',
    description: 'Response schema for saving per-activity progress.'
} as const;

export const ActivityResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Module Name'
        },
        page_number: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Page Number'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        config_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Config Json',
            default: {}
        },
        order_index: {
            type: 'integer',
            title: 'Order Index',
            default: 0
        }
    },
    type: 'object',
    required: ['id', 'book_id', 'activity_type'],
    title: 'ActivityResponse',
    description: 'Activity response schema for API.'
} as const;

export const ActivityScoreItemSchema = {
    properties: {
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        max_score: {
            type: 'number',
            title: 'Max Score'
        },
        status: {
            type: 'string',
            title: 'Status'
        }
    },
    type: 'object',
    required: ['activity_id', 'activity_title', 'activity_type', 'score', 'max_score', 'status'],
    title: 'ActivityScoreItem',
    description: 'Per-activity score item for student result view.'
} as const;

export const ActivityStartResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_name: {
            type: 'string',
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            type: 'string',
            title: 'Activity Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        config_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Config Json'
        },
        current_status: {
            type: 'string',
            title: 'Current Status'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        progress_json: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Progress Json'
        },
        has_saved_progress: {
            type: 'boolean',
            title: 'Has Saved Progress',
            description: 'Check if there is saved progress to resume from.',
            readOnly: true
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'instructions', 'due_date', 'time_limit_minutes', 'book_id', 'book_title', 'book_name', 'publisher_name', 'book_cover_url', 'activity_id', 'activity_title', 'activity_type', 'config_json', 'current_status', 'time_spent_minutes', 'progress_json', 'has_saved_progress'],
    title: 'ActivityStartResponse',
    description: 'Response schema for starting an assignment - returns full activity configuration.'
} as const;

export const ActivityTypeAnalysisSchema = {
    properties: {
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        questions: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/QuestionAnalysis'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Questions'
        },
        most_missed: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/MostMissedQuestion'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Most Missed'
        },
        word_matching_errors: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/WordMatchingError'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Word Matching Errors'
        },
        fill_in_blank: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/FillInBlankAnalysis'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Fill In Blank'
        },
        word_search: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/WordSearchAnalysis'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Word Search'
        }
    },
    type: 'object',
    required: ['activity_type'],
    title: 'ActivityTypeAnalysis',
    description: 'Activity-type specific analysis results.'
} as const;

export const ActivityTypeBenchmarkSchema = {
    properties: {
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        activity_label: {
            type: 'string',
            title: 'Activity Label'
        },
        class_average: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Class Average'
        },
        benchmark_average: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Benchmark Average'
        },
        difference_percent: {
            type: 'number',
            title: 'Difference Percent',
            description: 'Positive = class is above benchmark, negative = below'
        }
    },
    type: 'object',
    required: ['activity_type', 'activity_label', 'class_average', 'benchmark_average', 'difference_percent'],
    title: 'ActivityTypeBenchmark',
    description: `Performance comparison for a specific activity type.

[Source: Story 5.7 AC: 5]
Compares class performance against benchmark for each activity type.`
} as const;

export const ActivityTypePerformanceItemSchema = {
    properties: {
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['activity_type', 'avg_score', 'count'],
    title: 'ActivityTypePerformanceItem',
    description: 'Performance breakdown by activity type.'
} as const;

export const ActivityTypeScoreSchema = {
    properties: {
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        total_completed: {
            type: 'integer',
            title: 'Total Completed'
        },
        label: {
            type: 'string',
            title: 'Label'
        }
    },
    type: 'object',
    required: ['activity_type', 'avg_score', 'total_completed', 'label'],
    title: 'ActivityTypeScore',
    description: "Student's average score for an activity type."
} as const;

export const ActivityTypeStatSchema = {
    properties: {
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        activity_label: {
            type: 'string',
            title: 'Activity Label'
        },
        system_average: {
            type: 'number',
            title: 'System Average'
        },
        total_completions: {
            type: 'integer',
            title: 'Total Completions'
        }
    },
    type: 'object',
    required: ['activity_type', 'activity_label', 'system_average', 'total_completions'],
    title: 'ActivityTypeStat',
    description: `System-wide statistics for an activity type.

[Source: Story 5.7 AC: 12]`
} as const;

export const ActivityWithConfigSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        config_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Config Json'
        },
        order_index: {
            type: 'integer',
            title: 'Order Index',
            default: 0
        }
    },
    type: 'object',
    required: ['id', 'title', 'activity_type', 'config_json'],
    title: 'ActivityWithConfig',
    description: 'Activity info with full config for multi-activity player.'
} as const;

export const AdditionalResourcesSchema = {
    properties: {
        videos: {
            items: {
                '$ref': '#/components/schemas/VideoResource'
            },
            type: 'array',
            title: 'Videos',
            default: []
        },
        teacher_materials: {
            items: {
                '$ref': '#/components/schemas/TeacherMaterialResource'
            },
            type: 'array',
            title: 'Teacher Materials',
            default: []
        }
    },
    type: 'object',
    title: 'AdditionalResources',
    description: `Schema for additional resources attached to an assignment.

Supports video resources and teacher-uploaded materials.`
} as const;

export const AdditionalResourcesResponseSchema = {
    properties: {
        videos: {
            items: {
                '$ref': '#/components/schemas/VideoResource'
            },
            type: 'array',
            title: 'Videos',
            default: []
        },
        teacher_materials: {
            items: {
                '$ref': '#/components/schemas/TeacherMaterialResourceResponse'
            },
            type: 'array',
            title: 'Teacher Materials',
            default: []
        }
    },
    type: 'object',
    title: 'AdditionalResourcesResponse',
    description: 'Response schema with enriched material data and availability status.'
} as const;

export const AdminBenchmarkOverviewSchema = {
    properties: {
        total_schools: {
            type: 'integer',
            title: 'Total Schools'
        },
        schools_with_benchmarking: {
            type: 'integer',
            title: 'Schools With Benchmarking'
        },
        schools_above_average: {
            type: 'integer',
            title: 'Schools Above Average'
        },
        schools_at_average: {
            type: 'integer',
            title: 'Schools At Average'
        },
        schools_below_average: {
            type: 'integer',
            title: 'Schools Below Average'
        },
        system_average_score: {
            type: 'number',
            title: 'System Average Score'
        },
        activity_type_stats: {
            items: {
                '$ref': '#/components/schemas/ActivityTypeStat'
            },
            type: 'array',
            title: 'Activity Type Stats'
        },
        school_summaries: {
            items: {
                '$ref': '#/components/schemas/SchoolBenchmarkSummary'
            },
            type: 'array',
            title: 'School Summaries'
        },
        last_calculated: {
            type: 'string',
            format: 'date-time',
            title: 'Last Calculated'
        }
    },
    type: 'object',
    required: ['total_schools', 'schools_with_benchmarking', 'schools_above_average', 'schools_at_average', 'schools_below_average', 'system_average_score', 'activity_type_stats', 'school_summaries', 'last_calculated'],
    title: 'AdminBenchmarkOverview',
    description: `System-wide benchmark overview for admin dashboard.

[Source: Story 5.7 AC: 12]`
} as const;

export const AnalyticsSummarySchema = {
    properties: {
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        total_completed: {
            type: 'integer',
            title: 'Total Completed'
        },
        completion_rate: {
            type: 'number',
            title: 'Completion Rate'
        },
        current_streak: {
            type: 'integer',
            title: 'Current Streak'
        }
    },
    type: 'object',
    required: ['avg_score', 'total_completed', 'completion_rate', 'current_streak'],
    title: 'AnalyticsSummary',
    description: 'Aggregated summary metrics for a student.'
} as const;

export const AnnouncementCreateSchema = {
    properties: {
        title: {
            type: 'string',
            maxLength: 200,
            minLength: 1,
            title: 'Title'
        },
        content: {
            type: 'string',
            minLength: 1,
            title: 'Content'
        },
        recipient_student_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Recipient Student Ids'
        },
        recipient_classroom_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Recipient Classroom Ids'
        }
    },
    type: 'object',
    required: ['title', 'content'],
    title: 'AnnouncementCreate',
    description: 'Schema for creating a new announcement.'
} as const;

export const AnnouncementDetailSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        content: {
            type: 'string',
            title: 'Content'
        },
        recipient_count: {
            type: 'integer',
            title: 'Recipient Count'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        recipient_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Recipient Ids'
        }
    },
    type: 'object',
    required: ['id', 'teacher_id', 'title', 'content', 'recipient_count', 'created_at', 'updated_at', 'recipient_ids'],
    title: 'AnnouncementDetail',
    description: 'Schema for detailed announcement response with recipients.'
} as const;

export const AnnouncementListResponseSchema = {
    properties: {
        announcements: {
            items: {
                '$ref': '#/components/schemas/AnnouncementPublic'
            },
            type: 'array',
            title: 'Announcements'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        limit: {
            type: 'integer',
            title: 'Limit'
        },
        offset: {
            type: 'integer',
            title: 'Offset'
        }
    },
    type: 'object',
    required: ['announcements', 'total', 'limit', 'offset'],
    title: 'AnnouncementListResponse',
    description: 'Schema for paginated announcement list response.'
} as const;

export const AnnouncementPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        content: {
            type: 'string',
            title: 'Content'
        },
        recipient_count: {
            type: 'integer',
            title: 'Recipient Count'
        },
        read_count: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Read Count'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['id', 'teacher_id', 'title', 'content', 'recipient_count', 'created_at', 'updated_at'],
    title: 'AnnouncementPublic',
    description: 'Schema for announcement API response.'
} as const;

export const AnnouncementReadResponseSchema = {
    properties: {
        announcement_id: {
            type: 'string',
            format: 'uuid',
            title: 'Announcement Id'
        },
        is_read: {
            type: 'boolean',
            title: 'Is Read'
        },
        read_at: {
            type: 'string',
            format: 'date-time',
            title: 'Read At'
        }
    },
    type: 'object',
    required: ['announcement_id', 'is_read', 'read_at'],
    title: 'AnnouncementReadResponse',
    description: 'Schema for mark-as-read response.'
} as const;

export const AnnouncementUpdateSchema = {
    properties: {
        title: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 200,
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        content: {
            anyOf: [
                {
                    type: 'string',
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Content'
        },
        recipient_student_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Recipient Student Ids'
        },
        recipient_classroom_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Recipient Classroom Ids'
        }
    },
    type: 'object',
    title: 'AnnouncementUpdate',
    description: 'Schema for updating an announcement.'
} as const;

export const AnswerDistributionItemSchema = {
    properties: {
        option: {
            type: 'string',
            title: 'Option'
        },
        count: {
            type: 'integer',
            title: 'Count'
        },
        percentage: {
            type: 'number',
            title: 'Percentage'
        },
        is_correct: {
            type: 'boolean',
            title: 'Is Correct'
        }
    },
    type: 'object',
    required: ['option', 'count', 'percentage', 'is_correct'],
    title: 'AnswerDistributionItem',
    description: 'Distribution of answers for a single option.'
} as const;

export const AssignContentRequestSchema = {
    properties: {
        name: {
            type: 'string',
            title: 'Name',
            description: 'Assignment name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions',
            description: 'Assignment instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date',
            description: 'Due date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer',
                    minimum: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes',
            description: 'Time limit in minutes'
        },
        class_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Class Ids',
            description: 'Class IDs to assign to'
        }
    },
    type: 'object',
    required: ['name', 'class_ids'],
    title: 'AssignContentRequest',
    description: 'Request to assign content to classes.'
} as const;

export const AssignContentResponseSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        },
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        student_count: {
            type: 'integer',
            title: 'Student Count'
        }
    },
    type: 'object',
    required: ['message', 'assignment_id', 'student_count'],
    title: 'AssignContentResponse',
    description: 'Response for content assignment.'
} as const;

export const AssignmentCreateSchema = {
    properties: {
        source_type: {
            type: 'string',
            enum: ['book', 'ai_content'],
            title: 'Source Type',
            default: 'book'
        },
        book_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Id'
        },
        activity_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Id'
        },
        activity_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Ids'
        },
        content_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Content Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        student_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Student Ids'
        },
        class_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Class Ids'
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        date_groups: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/DateGroupCreate'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Date Groups'
        },
        video_path: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Video Path'
        },
        resources: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AdditionalResources'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['name'],
    title: 'AssignmentCreate',
    description: `Schema for creating a new assignment.

Supports both single-activity (backward compatible) and multi-activity assignments.
Provide either activity_id (single) OR activity_ids (multi) OR date_groups (Time Planning).

Story 27.x: Also supports AI content assignments with source_type="ai_content" and content_id.`
} as const;

export const AssignmentDetailedResultsResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        completion_overview: {
            '$ref': '#/components/schemas/CompletionOverview'
        },
        score_statistics: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/ScoreStatistics'
                },
                {
                    type: 'null'
                }
            ]
        },
        student_results: {
            items: {
                '$ref': '#/components/schemas/StudentResultItem'
            },
            type: 'array',
            title: 'Student Results'
        },
        question_analysis: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/ActivityTypeAnalysis'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'activity_type', 'due_date', 'completion_overview', 'score_statistics', 'student_results', 'question_analysis'],
    title: 'AssignmentDetailedResultsResponse',
    description: 'Complete detailed results for an assignment.'
} as const;

export const AssignmentForEditResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_name: {
            type: 'string',
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        activities: {
            items: {
                '$ref': '#/components/schemas/ActivityWithConfig'
            },
            type: 'array',
            title: 'Activities'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        },
        video_path: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Video Path'
        },
        resources: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AdditionalResourcesResponse'
                },
                {
                    type: 'null'
                }
            ]
        },
        class_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Class Ids'
        },
        student_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Student Ids'
        },
        time_planning_enabled: {
            type: 'boolean',
            title: 'Time Planning Enabled',
            default: false
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        date_groups: {
            anyOf: [
                {
                    items: {
                        additionalProperties: true,
                        type: 'object'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Date Groups'
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'instructions', 'due_date', 'time_limit_minutes', 'status', 'book_id', 'book_title', 'book_name', 'publisher_name', 'book_cover_url', 'activities', 'total_activities', 'class_ids', 'student_ids'],
    title: 'AssignmentForEditResponse',
    description: `Response schema for editing an existing assignment.

Extends preview response with recipient information needed for edit mode.
Used when a teacher wants to edit an existing assignment.`
} as const;

export const AssignmentListItemSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            type: 'string',
            title: 'Activity Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        total_students: {
            type: 'integer',
            title: 'Total Students'
        },
        not_started: {
            type: 'integer',
            title: 'Not Started'
        },
        in_progress: {
            type: 'integer',
            title: 'In Progress'
        },
        completed: {
            type: 'integer',
            title: 'Completed'
        },
        teacher_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Name'
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus',
            default: 'published'
        }
    },
    type: 'object',
    required: ['id', 'name', 'instructions', 'due_date', 'time_limit_minutes', 'created_at', 'book_id', 'book_title', 'activity_id', 'activity_title', 'activity_type', 'total_students', 'not_started', 'in_progress', 'completed'],
    title: 'AssignmentListItem',
    description: 'Assignment list item with enriched data for display.'
} as const;

export const AssignmentListResponseSchema = {
    properties: {
        items: {
            items: {
                '$ref': '#/components/schemas/AssignmentWithTeacher'
            },
            type: 'array',
            title: 'Items'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        skip: {
            type: 'integer',
            title: 'Skip'
        },
        limit: {
            type: 'integer',
            title: 'Limit'
        }
    },
    type: 'object',
    required: ['items', 'total', 'skip', 'limit'],
    title: 'AssignmentListResponse',
    description: 'Paginated response for assignment lists.'
} as const;

export const AssignmentPerformanceItemSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            title: 'Assignment Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        completion_rate: {
            type: 'number',
            title: 'Completion Rate'
        },
        avg_time_spent: {
            type: 'number',
            title: 'Avg Time Spent'
        }
    },
    type: 'object',
    required: ['assignment_id', 'name', 'avg_score', 'completion_rate', 'avg_time_spent'],
    title: 'AssignmentPerformanceItem',
    description: 'Performance metrics for a single assignment.'
} as const;

export const AssignmentPreviewResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_name: {
            type: 'string',
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        activities: {
            items: {
                '$ref': '#/components/schemas/ActivityWithConfig'
            },
            type: 'array',
            title: 'Activities'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        },
        is_preview: {
            type: 'boolean',
            title: 'Is Preview',
            default: true
        },
        video_path: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Video Path'
        },
        resources: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AdditionalResourcesResponse'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'instructions', 'due_date', 'time_limit_minutes', 'status', 'book_id', 'book_title', 'book_name', 'publisher_name', 'book_cover_url', 'activities', 'total_activities'],
    title: 'AssignmentPreviewResponse',
    description: `Response schema for teacher assignment preview/test mode.

Similar to MultiActivityStartResponse but without student-specific data.
Used for teachers to preview/test assignments before or after publishing.`
} as const;

export const AssignmentPublishStatusSchema = {
    type: 'string',
    enum: ['draft', 'scheduled', 'published', 'archived'],
    title: 'AssignmentPublishStatus',
    description: 'Assignment publishing status'
} as const;

export const AssignmentResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        student_count: {
            type: 'integer',
            title: 'Student Count',
            default: 0
        },
        activity_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Id'
        },
        activities: {
            items: {
                '$ref': '#/components/schemas/ActivityInfo'
            },
            type: 'array',
            title: 'Activities',
            default: []
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count',
            default: 0
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus',
            default: 'published'
        },
        video_path: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Video Path'
        }
    },
    type: 'object',
    required: ['id', 'teacher_id', 'book_id', 'name', 'instructions', 'due_date', 'time_limit_minutes', 'created_at', 'updated_at'],
    title: 'AssignmentResponse',
    description: 'Assignment response schema for API.'
} as const;

export const AssignmentResultDetailResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_name: {
            type: 'string',
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        config_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Config Json'
        },
        answers_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Answers Json'
        },
        score: {
            type: 'number',
            title: 'Score'
        },
        total_points: {
            type: 'number',
            title: 'Total Points'
        },
        started_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Started At'
        },
        completed_at: {
            type: 'string',
            format: 'date-time',
            title: 'Completed At'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        time_spent_seconds: {
            type: 'integer',
            title: 'Time Spent Seconds'
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'activity_id', 'activity_title', 'activity_type', 'book_id', 'book_name', 'publisher_name', 'config_json', 'answers_json', 'score', 'total_points', 'started_at', 'completed_at', 'time_spent_minutes', 'time_spent_seconds'],
    title: 'AssignmentResultDetailResponse',
    description: `Detailed assignment result with answers for review.

Story 23.4: Used when students want to review their submitted answers
with correct/incorrect marking.`
} as const;

export const AssignmentSaveProgressRequestSchema = {
    properties: {
        partial_answers_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Partial Answers Json'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        }
    },
    type: 'object',
    required: ['partial_answers_json', 'time_spent_minutes'],
    title: 'AssignmentSaveProgressRequest',
    description: 'Request schema for saving assignment progress.'
} as const;

export const AssignmentSaveProgressResponseSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        },
        last_saved_at: {
            type: 'string',
            format: 'date-time',
            title: 'Last Saved At'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        }
    },
    type: 'object',
    required: ['message', 'last_saved_at', 'time_spent_minutes'],
    title: 'AssignmentSaveProgressResponse',
    description: 'Response schema for saving assignment progress.'
} as const;

export const AssignmentSubmissionResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        message: {
            type: 'string',
            title: 'Message'
        },
        score: {
            type: 'number',
            title: 'Score'
        },
        completed_at: {
            type: 'string',
            format: 'date-time',
            title: 'Completed At'
        },
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        }
    },
    type: 'object',
    required: ['success', 'message', 'score', 'completed_at', 'assignment_id'],
    title: 'AssignmentSubmissionResponse',
    description: 'Response schema for assignment submission.'
} as const;

export const AssignmentSubmitRequestSchema = {
    properties: {
        answers_json: {
            additionalProperties: true,
            type: 'object',
            title: 'Answers Json'
        },
        score: {
            type: 'number',
            title: 'Score'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        }
    },
    type: 'object',
    required: ['answers_json', 'score', 'time_spent_minutes'],
    title: 'AssignmentSubmitRequest',
    description: 'Student submission payload for completing an assignment.'
} as const;

export const AssignmentUpdateSchema = {
    properties: {
        name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        status: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AssignmentPublishStatus'
                },
                {
                    type: 'null'
                }
            ]
        },
        activity_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Ids'
        },
        video_path: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Video Path'
        },
        resources: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AdditionalResources'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    title: 'AssignmentUpdate',
    description: `Schema for updating an existing assignment (partial update).

Story 9.8: Added activity_ids field to allow editing activities.
Story 10.3: Added video_path field to allow attaching/removing video.`
} as const;

export const AssignmentWithTeacherSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        teacher_name: {
            type: 'string',
            title: 'Teacher Name'
        },
        teacher_email: {
            type: 'string',
            title: 'Teacher Email'
        },
        recipient_count: {
            type: 'integer',
            title: 'Recipient Count',
            default: 0
        },
        completed_count: {
            type: 'integer',
            title: 'Completed Count',
            default: 0
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['id', 'title', 'teacher_id', 'teacher_name', 'teacher_email', 'due_date', 'status', 'created_at'],
    title: 'AssignmentWithTeacher',
    description: 'Assignment response with teacher information for admin view.'
} as const;

export const AudioUrlRequestSchema = {
    properties: {
        language: {
            type: 'string',
            title: 'Language',
            description: 'Language code',
            default: 'en'
        },
        word: {
            type: 'string',
            title: 'Word',
            description: 'Word to get audio for'
        }
    },
    type: 'object',
    required: ['word'],
    title: 'AudioUrlRequest',
    description: 'Request for vocabulary audio URL.'
} as const;

export const AudioUrlResponseSchema = {
    properties: {
        url: {
            type: 'string',
            title: 'Url'
        },
        expires_at: {
            type: 'string',
            title: 'Expires At'
        }
    },
    type: 'object',
    required: ['url', 'expires_at'],
    title: 'AudioUrlResponse',
    description: 'Audio URL response.'
} as const;

export const AvatarTypeSchema = {
    type: 'string',
    enum: ['custom', 'predefined'],
    title: 'AvatarType',
    description: 'Avatar type enumeration'
} as const;

export const AvatarUpdateResponseSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        },
        avatar_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Avatar Url'
        },
        avatar_type: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AvatarType'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['message', 'avatar_url', 'avatar_type'],
    title: 'AvatarUpdateResponse',
    description: 'Response after updating avatar.'
} as const;

export const BadgeInfoSchema = {
    properties: {
        slug: {
            type: 'string',
            title: 'Slug'
        },
        label: {
            type: 'string',
            title: 'Label'
        },
        icon: {
            type: 'string',
            title: 'Icon'
        }
    },
    type: 'object',
    required: ['slug', 'label', 'icon'],
    title: 'BadgeInfo',
    description: 'Type definition for badge information.'
} as const;

export const BenchmarkDataSchema = {
    properties: {
        level: {
            type: 'string',
            enum: ['school', 'publisher'],
            title: 'Level'
        },
        average_score: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Average Score',
            description: 'Average score as percentage'
        },
        completion_rate: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Completion Rate',
            description: 'Completion rate as percentage'
        },
        sample_size: {
            type: 'integer',
            minimum: 0,
            title: 'Sample Size',
            description: 'Number of classes in benchmark'
        },
        period: {
            type: 'string',
            enum: ['weekly', 'monthly', 'semester', 'all'],
            title: 'Period'
        },
        is_available: {
            type: 'boolean',
            title: 'Is Available',
            description: 'False if < 5 classes threshold not met',
            default: true
        }
    },
    type: 'object',
    required: ['level', 'average_score', 'completion_rate', 'sample_size', 'period'],
    title: 'BenchmarkData',
    description: `Aggregated benchmark data for a level (school or publisher).

[Source: Story 5.7 AC: 2, 4, 5, 7]`
} as const;

export const BenchmarkMessageSchema = {
    properties: {
        type: {
            type: 'string',
            enum: ['excelling', 'above_average', 'at_average', 'below_average', 'needs_focus'],
            title: 'Type'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        description: {
            type: 'string',
            title: 'Description'
        },
        icon: {
            type: 'string',
            title: 'Icon'
        },
        focus_area: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Focus Area'
        }
    },
    type: 'object',
    required: ['type', 'title', 'description', 'icon'],
    title: 'BenchmarkMessage',
    description: `Encouraging or constructive message based on performance.

[Source: Story 5.7 AC: 10, 11]`
} as const;

export const BenchmarkSettingsResponseSchema = {
    properties: {
        entity_type: {
            type: 'string',
            enum: ['school', 'publisher'],
            title: 'Entity Type'
        },
        entity_id: {
            type: 'string',
            title: 'Entity Id'
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['entity_type', 'entity_id', 'benchmarking_enabled', 'updated_at'],
    title: 'BenchmarkSettingsResponse',
    description: `Response after updating benchmark settings.

[Source: Story 5.7 AC: 9]`
} as const;

export const BenchmarkSettingsUpdateSchema = {
    properties: {
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled'
        }
    },
    type: 'object',
    required: ['benchmarking_enabled'],
    title: 'BenchmarkSettingsUpdate',
    description: `Request to update benchmark settings.

[Source: Story 5.7 AC: 9]`
} as const;

export const BenchmarkTrendPointSchema = {
    properties: {
        period: {
            type: 'string',
            title: 'Period'
        },
        period_label: {
            type: 'string',
            title: 'Period Label'
        },
        class_average: {
            type: 'number',
            title: 'Class Average'
        },
        school_benchmark: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Benchmark'
        },
        publisher_benchmark: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Publisher Benchmark'
        }
    },
    type: 'object',
    required: ['period', 'period_label', 'class_average'],
    title: 'BenchmarkTrendPoint',
    description: `Single data point in benchmark trend over time.

[Source: Story 5.7 AC: 3]`
} as const;

export const Body_admin_bulk_import_publishersSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_admin-bulk_import_publishers'
} as const;

export const Body_admin_bulk_import_studentsSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_admin-bulk_import_students'
} as const;

export const Body_admin_bulk_import_teachersSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_admin-bulk_import_teachers'
} as const;

export const Body_admin_upload_publisher_logoSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_admin-upload_publisher_logo'
} as const;

export const Body_login_login_access_tokenSchema = {
    properties: {
        grant_type: {
            anyOf: [
                {
                    type: 'string',
                    pattern: 'password'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grant Type'
        },
        username: {
            type: 'string',
            title: 'Username'
        },
        password: {
            type: 'string',
            title: 'Password'
        },
        scope: {
            type: 'string',
            title: 'Scope',
            default: ''
        },
        client_id: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Client Id'
        },
        client_secret: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Client Secret'
        }
    },
    type: 'object',
    required: ['username', 'password'],
    title: 'Body_login-login_access_token'
} as const;

export const Body_students_execute_importSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File',
            description: 'Excel file (.xlsx or .xls)'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_students-execute_import'
} as const;

export const Body_students_validate_import_fileSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File',
            description: 'Excel file (.xlsx or .xls)'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_students-validate_import_file'
} as const;

export const Body_teacher_materials_upload_materialSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_teacher-materials-upload_material'
} as const;

export const Body_teacher_materials_upload_pdf_for_aiSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_teacher-materials-upload_pdf_for_ai'
} as const;

export const Body_teachers_bulk_import_studentsSchema = {
    properties: {
        file: {
            type: 'string',
            format: 'binary',
            title: 'File'
        }
    },
    type: 'object',
    required: ['file'],
    title: 'Body_teachers-bulk_import_students'
} as const;

export const BookAssignmentCreateSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        school_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Id'
        },
        teacher_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Id'
        }
    },
    type: 'object',
    required: ['book_id'],
    title: 'BookAssignmentCreate',
    description: 'Properties to receive via API on BookAssignment creation'
} as const;

export const BookAssignmentListResponseSchema = {
    properties: {
        items: {
            items: {
                '$ref': '#/components/schemas/BookAssignmentResponse'
            },
            type: 'array',
            title: 'Items'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        skip: {
            type: 'integer',
            title: 'Skip'
        },
        limit: {
            type: 'integer',
            title: 'Limit'
        }
    },
    type: 'object',
    required: ['items', 'total', 'skip', 'limit'],
    title: 'BookAssignmentListResponse',
    description: 'Paginated list of book assignments'
} as const;

export const BookAssignmentPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        school_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Id'
        },
        teacher_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Id'
        },
        assigned_by: {
            type: 'string',
            format: 'uuid',
            title: 'Assigned By'
        },
        assigned_at: {
            type: 'string',
            format: 'date-time',
            title: 'Assigned At'
        }
    },
    type: 'object',
    required: ['id', 'book_id', 'school_id', 'teacher_id', 'assigned_by', 'assigned_at'],
    title: 'BookAssignmentPublic',
    description: 'Properties to return via API'
} as const;

export const BookAssignmentResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        school_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Id'
        },
        school_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Name'
        },
        teacher_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Id'
        },
        teacher_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Name'
        },
        teacher_email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Email'
        },
        assigned_by: {
            type: 'string',
            format: 'uuid',
            title: 'Assigned By'
        },
        assigned_by_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Assigned By Name'
        },
        assigned_at: {
            type: 'string',
            format: 'date-time',
            title: 'Assigned At'
        }
    },
    type: 'object',
    required: ['id', 'book_id', 'book_title', 'school_id', 'teacher_id', 'assigned_by', 'assigned_at'],
    title: 'BookAssignmentResponse',
    description: 'Full book assignment response with related entity info'
} as const;

export const BookListResponseSchema = {
    properties: {
        items: {
            items: {
                '$ref': '#/components/schemas/BookResponse'
            },
            type: 'array',
            title: 'Items'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        skip: {
            type: 'integer',
            title: 'Skip',
            default: 0
        },
        limit: {
            type: 'integer',
            title: 'Limit',
            default: 20
        }
    },
    type: 'object',
    required: ['items', 'total'],
    title: 'BookListResponse',
    description: 'List of books response schema.'
} as const;

export const BookPagesDetailResponseSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        modules: {
            items: {
                '$ref': '#/components/schemas/app__schemas__book__ModuleInfo'
            },
            type: 'array',
            title: 'Modules'
        },
        pages: {
            items: {
                '$ref': '#/components/schemas/PageDetail'
            },
            type: 'array',
            title: 'Pages'
        },
        total_pages: {
            type: 'integer',
            title: 'Total Pages'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        }
    },
    type: 'object',
    required: ['book_id', 'modules', 'pages', 'total_pages', 'total_activities'],
    title: 'BookPagesDetailResponse',
    description: 'Enhanced book pages response with activity coordinates for page viewer.'
} as const;

export const BookPagesResponseSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        modules: {
            items: {
                '$ref': '#/components/schemas/ModulePages'
            },
            type: 'array',
            title: 'Modules'
        },
        total_pages: {
            type: 'integer',
            title: 'Total Pages'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        }
    },
    type: 'object',
    required: ['book_id', 'modules', 'total_pages', 'total_activities'],
    title: 'BookPagesResponse',
    description: 'Response for book pages endpoint.'
} as const;

export const BookPublicSchema = {
    properties: {
        id: {
            type: 'integer',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        publisher_id: {
            type: 'integer',
            title: 'Publisher Id'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Cover Url'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count',
            default: 0
        },
        created_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Created At'
        },
        updated_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['id', 'name', 'publisher_id', 'publisher_name'],
    title: 'BookPublic',
    description: `Book data for API responses - sourced from DCS.

This schema represents books fetched from DCS without local sync.
The ID is the DCS book ID (integer).`
} as const;

export const BookResponseSchema = {
    properties: {
        id: {
            type: 'integer',
            title: 'Id'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        book_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        language: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Language'
        },
        category: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Category'
        },
        cover_image_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Cover Image Url'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count',
            default: 0
        },
        dream_storage_id: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dream Storage Id'
        }
    },
    type: 'object',
    required: ['id', 'publisher_name'],
    title: 'BookResponse',
    description: `Book response schema for API.

DEPRECATED: Use BookPublic instead. This schema is kept for backwards compatibility
but will be removed in a future version.`
} as const;

export const BookStructureResponseSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        modules: {
            items: {
                '$ref': '#/components/schemas/ModuleWithActivities'
            },
            type: 'array',
            title: 'Modules'
        },
        total_pages: {
            type: 'integer',
            title: 'Total Pages'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        }
    },
    type: 'object',
    required: ['book_id', 'modules', 'total_pages', 'total_activities'],
    title: 'BookStructureResponse',
    description: 'Book structure response with modules and pages for activity selection tabs.'
} as const;

export const BookSyncResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        books_synced: {
            type: 'integer',
            title: 'Books Synced'
        },
        books_created: {
            type: 'integer',
            title: 'Books Created'
        },
        books_updated: {
            type: 'integer',
            title: 'Books Updated'
        },
        activities_created: {
            type: 'integer',
            title: 'Activities Created'
        },
        errors: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Errors'
        },
        message: {
            type: 'string',
            title: 'Message',
            default: 'Book sync completed'
        }
    },
    type: 'object',
    required: ['success', 'books_synced', 'books_created', 'books_updated', 'activities_created', 'errors'],
    title: 'BookSyncResponse',
    description: 'Book synchronization response schema.'
} as const;

export const BookVideosResponseSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        videos: {
            items: {
                '$ref': '#/components/schemas/VideoInfo'
            },
            type: 'array',
            title: 'Videos'
        },
        total_count: {
            type: 'integer',
            title: 'Total Count'
        }
    },
    type: 'object',
    required: ['book_id', 'videos', 'total_count'],
    title: 'BookVideosResponse',
    description: 'Response for book videos endpoint.'
} as const;

export const BookWithVocabularySchema = {
    properties: {
        id: {
            type: 'integer',
            title: 'Id'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        has_ai_data: {
            type: 'boolean',
            title: 'Has Ai Data'
        },
        processing_status: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Processing Status'
        },
        vocabulary_count: {
            type: 'integer',
            title: 'Vocabulary Count'
        },
        modules: {
            items: {
                '$ref': '#/components/schemas/app__api__routes__vocabulary_explorer__ModuleInfo'
            },
            type: 'array',
            title: 'Modules'
        }
    },
    type: 'object',
    required: ['id', 'title', 'publisher_name', 'has_ai_data', 'processing_status', 'vocabulary_count', 'modules'],
    title: 'BookWithVocabulary',
    description: 'Book with AI vocabulary data available.'
} as const;

export const BulkAssignmentCreateResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        message: {
            type: 'string',
            title: 'Message'
        },
        total_created: {
            type: 'integer',
            title: 'Total Created'
        },
        assignments: {
            items: {
                '$ref': '#/components/schemas/BulkAssignmentCreatedItem'
            },
            type: 'array',
            title: 'Assignments'
        }
    },
    type: 'object',
    required: ['success', 'message', 'total_created', 'assignments'],
    title: 'BulkAssignmentCreateResponse',
    description: 'Response schema for bulk assignment creation (Time Planning mode).'
} as const;

export const BulkAssignmentCreatedItemSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count'
        }
    },
    type: 'object',
    required: ['id', 'name', 'scheduled_publish_date', 'due_date', 'status', 'activity_count'],
    title: 'BulkAssignmentCreatedItem',
    description: 'Individual assignment created in bulk operation.'
} as const;

export const BulkBookAssignmentCreateSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        teacher_ids: {
            anyOf: [
                {
                    items: {
                        type: 'string',
                        format: 'uuid'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Teacher Ids'
        },
        assign_to_all_teachers: {
            type: 'boolean',
            title: 'Assign To All Teachers',
            default: false
        }
    },
    type: 'object',
    required: ['book_id', 'school_id'],
    title: 'BulkBookAssignmentCreate',
    description: 'Properties for bulk book assignment creation'
} as const;

export const BulkDeleteRequestSchema = {
    properties: {
        ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Ids'
        }
    },
    type: 'object',
    required: ['ids'],
    title: 'BulkDeleteRequest',
    description: 'Request body for bulk delete operations.'
} as const;

export const BulkDeleteResponseSchema = {
    properties: {
        deleted_count: {
            type: 'integer',
            title: 'Deleted Count'
        },
        failed_count: {
            type: 'integer',
            title: 'Failed Count'
        },
        errors: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Errors',
            default: []
        }
    },
    type: 'object',
    required: ['deleted_count', 'failed_count'],
    title: 'BulkDeleteResponse',
    description: 'Response for bulk delete operations.'
} as const;

export const BulkImportErrorDetailSchema = {
    properties: {
        row_number: {
            type: 'integer',
            title: 'Row Number'
        },
        field: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Field'
        },
        message: {
            type: 'string',
            title: 'Message'
        }
    },
    type: 'object',
    required: ['row_number', 'message'],
    title: 'BulkImportErrorDetail',
    description: 'Details of a single bulk import validation error'
} as const;

export const BulkImportResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        total_rows: {
            type: 'integer',
            title: 'Total Rows'
        },
        created_count: {
            type: 'integer',
            title: 'Created Count'
        },
        error_count: {
            type: 'integer',
            title: 'Error Count'
        },
        errors: {
            items: {
                '$ref': '#/components/schemas/BulkImportErrorDetail'
            },
            type: 'array',
            title: 'Errors'
        },
        credentials: {
            anyOf: [
                {
                    items: {
                        additionalProperties: {
                            type: 'string'
                        },
                        type: 'object'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Credentials'
        }
    },
    type: 'object',
    required: ['success', 'total_rows', 'created_count', 'error_count', 'errors'],
    title: 'BulkImportResponse',
    description: 'Response schema for bulk import endpoints'
} as const;

export const CalendarAssignmentItemSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        scheduled_publish_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Scheduled Publish Date'
        },
        status: {
            '$ref': '#/components/schemas/AssignmentPublishStatus'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count'
        },
        class_names: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Class Names',
            default: []
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        }
    },
    type: 'object',
    required: ['id', 'name', 'due_date', 'scheduled_publish_date', 'status', 'activity_count', 'book_id', 'book_title'],
    title: 'CalendarAssignmentItem',
    description: 'Assignment item for calendar view.'
} as const;

export const CalendarAssignmentsResponseSchema = {
    properties: {
        start_date: {
            type: 'string',
            title: 'Start Date'
        },
        end_date: {
            type: 'string',
            title: 'End Date'
        },
        total_assignments: {
            type: 'integer',
            title: 'Total Assignments'
        },
        assignments_by_date: {
            additionalProperties: {
                items: {
                    '$ref': '#/components/schemas/CalendarAssignmentItem'
                },
                type: 'array'
            },
            type: 'object',
            title: 'Assignments By Date'
        }
    },
    type: 'object',
    required: ['start_date', 'end_date', 'total_assignments', 'assignments_by_date'],
    title: 'CalendarAssignmentsResponse',
    description: 'Response schema for calendar assignments endpoint.'
} as const;

export const ChangeInitialPasswordRequestSchema = {
    properties: {
        current_password: {
            type: 'string',
            minLength: 1,
            title: 'Current Password'
        },
        new_password: {
            type: 'string',
            maxLength: 40,
            minLength: 8,
            title: 'New Password'
        }
    },
    type: 'object',
    required: ['current_password', 'new_password'],
    title: 'ChangeInitialPasswordRequest',
    description: 'Request body for changing initial/temporary password'
} as const;

export const ChangePasswordResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        message: {
            type: 'string',
            title: 'Message'
        }
    },
    type: 'object',
    required: ['success', 'message'],
    title: 'ChangePasswordResponse',
    description: 'Response for password change'
} as const;

export const ClassAnalyticsResponseSchema = {
    properties: {
        class_id: {
            type: 'string',
            title: 'Class Id'
        },
        class_name: {
            type: 'string',
            title: 'Class Name'
        },
        summary: {
            '$ref': '#/components/schemas/ClassAnalyticsSummary'
        },
        score_distribution: {
            items: {
                '$ref': '#/components/schemas/ScoreDistributionBucket'
            },
            type: 'array',
            title: 'Score Distribution'
        },
        leaderboard: {
            items: {
                '$ref': '#/components/schemas/StudentLeaderboardItem'
            },
            type: 'array',
            title: 'Leaderboard'
        },
        struggling_students: {
            items: {
                '$ref': '#/components/schemas/StrugglingStudentItem'
            },
            type: 'array',
            title: 'Struggling Students'
        },
        assignment_performance: {
            items: {
                '$ref': '#/components/schemas/AssignmentPerformanceItem'
            },
            type: 'array',
            title: 'Assignment Performance'
        },
        activity_type_performance: {
            items: {
                '$ref': '#/components/schemas/ActivityTypePerformanceItem'
            },
            type: 'array',
            title: 'Activity Type Performance'
        },
        trends: {
            items: {
                '$ref': '#/components/schemas/TrendData'
            },
            type: 'array',
            title: 'Trends'
        }
    },
    type: 'object',
    required: ['class_id', 'class_name', 'summary', 'score_distribution', 'leaderboard', 'struggling_students', 'assignment_performance', 'activity_type_performance', 'trends'],
    title: 'ClassAnalyticsResponse',
    description: 'Complete class analytics data response.'
} as const;

export const ClassAnalyticsSummarySchema = {
    properties: {
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        completion_rate: {
            type: 'number',
            title: 'Completion Rate'
        },
        total_assignments: {
            type: 'integer',
            title: 'Total Assignments'
        },
        active_students: {
            type: 'integer',
            title: 'Active Students'
        }
    },
    type: 'object',
    required: ['avg_score', 'completion_rate', 'total_assignments', 'active_students'],
    title: 'ClassAnalyticsSummary',
    description: 'Aggregated summary metrics for a class.'
} as const;

export const ClassBenchmarkResponseSchema = {
    properties: {
        class_metrics: {
            '$ref': '#/components/schemas/ClassMetrics'
        },
        school_benchmark: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/BenchmarkData'
                },
                {
                    type: 'null'
                }
            ],
            description: 'None if disabled or threshold not met'
        },
        publisher_benchmark: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/BenchmarkData'
                },
                {
                    type: 'null'
                }
            ],
            description: 'None if disabled or threshold not met'
        },
        activity_benchmarks: {
            items: {
                '$ref': '#/components/schemas/ActivityTypeBenchmark'
            },
            type: 'array',
            title: 'Activity Benchmarks'
        },
        comparison_over_time: {
            items: {
                '$ref': '#/components/schemas/BenchmarkTrendPoint'
            },
            type: 'array',
            title: 'Comparison Over Time'
        },
        message: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/BenchmarkMessage'
                },
                {
                    type: 'null'
                }
            ]
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled',
            default: true
        },
        disabled_reason: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Disabled Reason'
        }
    },
    type: 'object',
    required: ['class_metrics'],
    title: 'ClassBenchmarkResponse',
    description: `Complete benchmark comparison response for a class.

[Source: Story 5.7 AC: 2, 3, 5, 7, 10, 11]`
} as const;

export const ClassCreateByTeacherSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        subject: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 100
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        academic_year: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 20
                },
                {
                    type: 'null'
                }
            ],
            title: 'Academic Year'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        }
    },
    type: 'object',
    required: ['name'],
    title: 'ClassCreateByTeacher',
    description: "Properties to receive via API on Class creation by Teacher (teacher_id and school_id set automatically from teacher's record)"
} as const;

export const ClassDetailResponseSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        subject: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 100
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        academic_year: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 20
                },
                {
                    type: 'null'
                }
            ],
            title: 'Academic Year'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        student_count: {
            type: 'integer',
            title: 'Student Count',
            description: 'Number of enrolled students',
            default: 0
        },
        enrolled_students: {
            items: {
                '$ref': '#/components/schemas/StudentInClass'
            },
            type: 'array',
            title: 'Enrolled Students'
        }
    },
    type: 'object',
    required: ['name', 'id', 'teacher_id', 'school_id', 'created_at', 'updated_at'],
    title: 'ClassDetailResponse',
    description: 'Class detail response with enrolled students'
} as const;

export const ClassMetricsSchema = {
    properties: {
        class_id: {
            type: 'string',
            title: 'Class Id'
        },
        class_name: {
            type: 'string',
            title: 'Class Name'
        },
        average_score: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Average Score'
        },
        completion_rate: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Completion Rate'
        },
        total_assignments: {
            type: 'integer',
            title: 'Total Assignments'
        },
        active_students: {
            type: 'integer',
            title: 'Active Students'
        }
    },
    type: 'object',
    required: ['class_id', 'class_name', 'average_score', 'completion_rate', 'total_assignments', 'active_students'],
    title: 'ClassMetrics',
    description: `Current class performance metrics.

[Source: Story 5.7 AC: 2]`
} as const;

export const ClassPublicSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        subject: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 100
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        academic_year: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 20
                },
                {
                    type: 'null'
                }
            ],
            title: 'Academic Year'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['name', 'id', 'teacher_id', 'school_id', 'created_at', 'updated_at'],
    title: 'ClassPublic',
    description: 'Properties to return via API'
} as const;

export const ClassResponseSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        subject: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 100
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        academic_year: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 20
                },
                {
                    type: 'null'
                }
            ],
            title: 'Academic Year'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        student_count: {
            type: 'integer',
            title: 'Student Count',
            description: 'Number of enrolled students',
            default: 0
        }
    },
    type: 'object',
    required: ['name', 'id', 'teacher_id', 'school_id', 'created_at', 'updated_at'],
    title: 'ClassResponse',
    description: 'Class response with computed student count'
} as const;

export const ClassStudentAddSchema = {
    properties: {
        student_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Student Ids',
            description: 'List of student UUIDs to add to the class'
        }
    },
    type: 'object',
    required: ['student_ids'],
    title: 'ClassStudentAdd',
    description: 'Schema for adding students to a class'
} as const;

export const ClassStudentsGroupSchema = {
    properties: {
        class_id: {
            type: 'string',
            format: 'uuid',
            title: 'Class Id'
        },
        students: {
            items: {
                '$ref': '#/components/schemas/StudentPublic'
            },
            type: 'array',
            title: 'Students'
        }
    },
    type: 'object',
    required: ['class_id', 'students'],
    title: 'ClassStudentsGroup',
    description: 'Students grouped by class ID.'
} as const;

export const ClassUpdateSchema = {
    properties: {
        name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        subject: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 100
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        academic_year: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 20
                },
                {
                    type: 'null'
                }
            ],
            title: 'Academic Year'
        },
        is_active: {
            anyOf: [
                {
                    type: 'boolean'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Is Active'
        }
    },
    type: 'object',
    title: 'ClassUpdate',
    description: 'Properties to receive via API on Class update'
} as const;

export const CompletionOverviewSchema = {
    properties: {
        completed: {
            type: 'integer',
            title: 'Completed'
        },
        in_progress: {
            type: 'integer',
            title: 'In Progress'
        },
        not_started: {
            type: 'integer',
            title: 'Not Started'
        },
        past_due: {
            type: 'integer',
            title: 'Past Due'
        },
        total: {
            type: 'integer',
            title: 'Total'
        }
    },
    type: 'object',
    required: ['completed', 'in_progress', 'not_started', 'past_due', 'total'],
    title: 'CompletionOverview',
    description: 'Completion status counts for an assignment.'
} as const;

export const ContentCreatorSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        }
    },
    type: 'object',
    required: ['id', 'name'],
    title: 'ContentCreator',
    description: 'Content creator information.'
} as const;

export const ContentItemDetailSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type',
            description: 'Type of activity (ai_quiz, vocabulary_quiz, etc.)'
        },
        title: {
            type: 'string',
            title: 'Title',
            description: 'Activity title'
        },
        source_type: {
            type: 'string',
            title: 'Source Type',
            description: "'book' or 'material'"
        },
        book_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Id',
            description: 'DCS book ID if book-based'
        },
        book_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Title',
            description: 'Book title if book-based'
        },
        material_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Material Id',
            description: 'Material ID if material-based'
        },
        material_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Material Name',
            description: 'Material name if material-based'
        },
        item_count: {
            type: 'integer',
            title: 'Item Count',
            description: 'Number of questions/items in activity'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Updated At'
        },
        used_in_assignments: {
            type: 'integer',
            title: 'Used In Assignments',
            description: 'Times used in assignments',
            default: 0
        },
        is_shared: {
            type: 'boolean',
            title: 'Is Shared',
            description: 'True if book-based (shared), False if material-based (private)'
        },
        created_by: {
            '$ref': '#/components/schemas/ContentCreator'
        },
        content: {
            additionalProperties: true,
            type: 'object',
            title: 'Content',
            description: 'Full activity data'
        }
    },
    type: 'object',
    required: ['id', 'activity_type', 'title', 'source_type', 'item_count', 'created_at', 'is_shared', 'created_by', 'content'],
    title: 'ContentItemDetail',
    description: 'Detailed content library item with full activity data.'
} as const;

export const ContentItemPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type',
            description: 'Type of activity (ai_quiz, vocabulary_quiz, etc.)'
        },
        title: {
            type: 'string',
            title: 'Title',
            description: 'Activity title'
        },
        source_type: {
            type: 'string',
            title: 'Source Type',
            description: "'book' or 'material'"
        },
        book_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Id',
            description: 'DCS book ID if book-based'
        },
        book_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Title',
            description: 'Book title if book-based'
        },
        material_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Material Id',
            description: 'Material ID if material-based'
        },
        material_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Material Name',
            description: 'Material name if material-based'
        },
        item_count: {
            type: 'integer',
            title: 'Item Count',
            description: 'Number of questions/items in activity'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Updated At'
        },
        used_in_assignments: {
            type: 'integer',
            title: 'Used In Assignments',
            description: 'Times used in assignments',
            default: 0
        },
        is_shared: {
            type: 'boolean',
            title: 'Is Shared',
            description: 'True if book-based (shared), False if material-based (private)'
        },
        created_by: {
            '$ref': '#/components/schemas/ContentCreator'
        }
    },
    type: 'object',
    required: ['id', 'activity_type', 'title', 'source_type', 'item_count', 'created_at', 'is_shared', 'created_by'],
    title: 'ContentItemPublic',
    description: 'Public content library item.'
} as const;

export const ConversationListResponseSchema = {
    properties: {
        conversations: {
            items: {
                '$ref': '#/components/schemas/ConversationPublic'
            },
            type: 'array',
            title: 'Conversations'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        limit: {
            type: 'integer',
            title: 'Limit'
        },
        offset: {
            type: 'integer',
            title: 'Offset'
        },
        has_more: {
            type: 'boolean',
            title: 'Has More'
        },
        total_unread: {
            type: 'integer',
            title: 'Total Unread'
        }
    },
    type: 'object',
    required: ['conversations', 'total', 'limit', 'offset', 'has_more', 'total_unread'],
    title: 'ConversationListResponse',
    description: 'Schema for paginated conversation list response.'
} as const;

export const ConversationPublicSchema = {
    properties: {
        participant_id: {
            type: 'string',
            format: 'uuid',
            title: 'Participant Id'
        },
        participant_name: {
            type: 'string',
            title: 'Participant Name'
        },
        participant_email: {
            type: 'string',
            title: 'Participant Email'
        },
        participant_role: {
            type: 'string',
            title: 'Participant Role'
        },
        last_message_preview: {
            type: 'string',
            title: 'Last Message Preview'
        },
        last_message_timestamp: {
            type: 'string',
            format: 'date-time',
            title: 'Last Message Timestamp'
        },
        unread_count: {
            type: 'integer',
            title: 'Unread Count'
        }
    },
    type: 'object',
    required: ['participant_id', 'participant_name', 'participant_email', 'participant_role', 'last_message_preview', 'last_message_timestamp', 'unread_count'],
    title: 'ConversationPublic',
    description: 'Schema for a conversation (grouped messages with a participant).'
} as const;

export const CreateAssignmentRequestSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        activity_type: {
            type: 'string',
            maxLength: 50,
            title: 'Activity Type'
        },
        title: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Title'
        },
        description: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 1000
                },
                {
                    type: 'null'
                }
            ],
            title: 'Description'
        }
    },
    type: 'object',
    required: ['quiz_id', 'activity_type', 'title'],
    title: 'CreateAssignmentRequest',
    description: `Request to create an assignment from generated content.

Attributes:
    quiz_id: ID of the quiz to create assignment from.
    activity_type: Type of activity (ai_quiz, vocabulary_quiz, reading, etc.).
    title: Title for the assignment.
    description: Optional description for the assignment.`
} as const;

export const CredentialsDownloadRequestSchema = {
    properties: {
        credentials: {
            items: {
                '$ref': '#/components/schemas/ImportCredential'
            },
            type: 'array',
            title: 'Credentials',
            description: 'Credentials to include in download'
        }
    },
    type: 'object',
    required: ['credentials'],
    title: 'CredentialsDownloadRequest',
    description: 'Request body for credentials download.'
} as const;

export const DashboardStatsSchema = {
    properties: {
        total_users: {
            type: 'integer',
            title: 'Total Users'
        },
        total_publishers: {
            type: 'integer',
            title: 'Total Publishers'
        },
        total_teachers: {
            type: 'integer',
            title: 'Total Teachers'
        },
        total_students: {
            type: 'integer',
            title: 'Total Students'
        },
        active_schools: {
            type: 'integer',
            title: 'Active Schools'
        }
    },
    type: 'object',
    required: ['total_users', 'total_publishers', 'total_teachers', 'total_students', 'active_schools'],
    title: 'DashboardStats',
    description: 'Dashboard statistics for admin view'
} as const;

export const DateGroupCreateSchema = {
    properties: {
        scheduled_publish_date: {
            type: 'string',
            format: 'date-time',
            title: 'Scheduled Publish Date'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        activity_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Activity Ids'
        }
    },
    type: 'object',
    required: ['scheduled_publish_date', 'activity_ids'],
    title: 'DateGroupCreate',
    description: `Schema for a date group in Time Planning mode.

Each date group creates a separate assignment with its own publish date.`
} as const;

export const DeadlineCheckResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        deadline_reminders_sent: {
            type: 'integer',
            title: 'Deadline Reminders Sent'
        },
        deadline_students_notified: {
            type: 'integer',
            title: 'Deadline Students Notified'
        },
        deadline_assignments_processed: {
            type: 'integer',
            title: 'Deadline Assignments Processed'
        },
        past_due_notifications_sent: {
            type: 'integer',
            title: 'Past Due Notifications Sent'
        },
        past_due_students_notified: {
            type: 'integer',
            title: 'Past Due Students Notified'
        },
        past_due_assignments_processed: {
            type: 'integer',
            title: 'Past Due Assignments Processed'
        },
        message: {
            type: 'string',
            title: 'Message'
        }
    },
    type: 'object',
    required: ['success', 'deadline_reminders_sent', 'deadline_students_notified', 'deadline_assignments_processed', 'past_due_notifications_sent', 'past_due_students_notified', 'past_due_assignments_processed', 'message'],
    title: 'DeadlineCheckResponse',
    description: 'Response model for deadline check tasks.'
} as const;

export const DeleteContentResponseSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        },
        content_id: {
            type: 'string',
            format: 'uuid',
            title: 'Content Id'
        }
    },
    type: 'object',
    required: ['message', 'content_id'],
    title: 'DeleteContentResponse',
    description: 'Response for content deletion.'
} as const;

export const EmojiInfoSchema = {
    properties: {
        slug: {
            type: 'string',
            title: 'Slug'
        },
        emoji: {
            type: 'string',
            title: 'Emoji'
        }
    },
    type: 'object',
    required: ['slug', 'emoji'],
    title: 'EmojiInfo',
    description: 'Type definition for emoji reaction information.'
} as const;

export const FeedbackCreateSchema = {
    properties: {
        feedback_text: {
            type: 'string',
            maxLength: 1000,
            minLength: 1,
            title: 'Feedback Text'
        },
        is_draft: {
            type: 'boolean',
            title: 'Is Draft',
            default: false
        },
        badges: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array',
                    maxItems: 6
                },
                {
                    type: 'null'
                }
            ],
            title: 'Badges'
        },
        emoji_reaction: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Emoji Reaction'
        }
    },
    type: 'object',
    required: ['feedback_text'],
    title: 'FeedbackCreate',
    description: 'Schema for creating feedback on a student assignment.'
} as const;

export const FeedbackOptionsResponseSchema = {
    properties: {
        badges: {
            items: {
                '$ref': '#/components/schemas/BadgeInfo'
            },
            type: 'array',
            title: 'Badges'
        },
        emoji_reactions: {
            items: {
                '$ref': '#/components/schemas/EmojiInfo'
            },
            type: 'array',
            title: 'Emoji Reactions'
        }
    },
    type: 'object',
    required: ['badges', 'emoji_reactions'],
    title: 'FeedbackOptionsResponse',
    description: 'Response schema for available feedback options (badges and emoji).'
} as const;

export const FeedbackPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        assignment_student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Student Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        feedback_text: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Feedback Text'
        },
        badges: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Badges'
        },
        emoji_reactions: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Emoji Reactions'
        },
        is_draft: {
            type: 'boolean',
            title: 'Is Draft'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        student_name: {
            type: 'string',
            title: 'Student Name'
        },
        student_user_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student User Id'
        },
        teacher_name: {
            type: 'string',
            title: 'Teacher Name'
        },
        teacher_user_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher User Id'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        }
    },
    type: 'object',
    required: ['id', 'assignment_student_id', 'teacher_id', 'feedback_text', 'badges', 'emoji_reactions', 'is_draft', 'created_at', 'updated_at', 'assignment_id', 'assignment_name', 'student_id', 'student_name', 'student_user_id', 'teacher_name', 'teacher_user_id', 'score'],
    title: 'FeedbackPublic',
    description: 'Schema for feedback API response with related entity names.'
} as const;

export const FeedbackStudentViewSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        feedback_text: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Feedback Text'
        },
        badges: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Badges'
        },
        emoji_reactions: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Emoji Reactions'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        teacher_name: {
            type: 'string',
            title: 'Teacher Name'
        },
        teacher_user_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher User Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        }
    },
    type: 'object',
    required: ['id', 'feedback_text', 'badges', 'emoji_reactions', 'created_at', 'updated_at', 'teacher_name', 'teacher_user_id', 'assignment_name', 'assignment_id'],
    title: 'FeedbackStudentView',
    description: 'Schema for feedback as viewed by a student (hides draft status).'
} as const;

export const FeedbackUpdateSchema = {
    properties: {
        feedback_text: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 1000,
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Feedback Text'
        },
        is_draft: {
            anyOf: [
                {
                    type: 'boolean'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Is Draft'
        },
        badges: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array',
                    maxItems: 6
                },
                {
                    type: 'null'
                }
            ],
            title: 'Badges'
        },
        emoji_reaction: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Emoji Reaction'
        }
    },
    type: 'object',
    title: 'FeedbackUpdate',
    description: 'Schema for updating feedback.'
} as const;

export const FillInBlankAnalysisSchema = {
    properties: {
        blank_id: {
            type: 'string',
            title: 'Blank Id'
        },
        blank_context: {
            type: 'string',
            title: 'Blank Context'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        correct_rate: {
            type: 'number',
            title: 'Correct Rate'
        },
        common_wrong_answers: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Common Wrong Answers'
        }
    },
    type: 'object',
    required: ['blank_id', 'blank_context', 'correct_answer', 'correct_rate', 'common_wrong_answers'],
    title: 'FillInBlankAnalysis',
    description: 'Analysis for a fill-in-blank item.'
} as const;

export const GlobalMuteRequestSchema = {
    properties: {
        hours: {
            type: 'integer',
            maximum: 24,
            minimum: 1,
            title: 'Hours',
            description: 'Number of hours to mute (max 24)'
        }
    },
    type: 'object',
    required: ['hours'],
    title: 'GlobalMuteRequest',
    description: 'Request schema for setting global mute.'
} as const;

export const GlobalMuteResponseSchema = {
    properties: {
        muted_until: {
            type: 'string',
            format: 'date-time',
            title: 'Muted Until'
        },
        remaining_hours: {
            type: 'number',
            title: 'Remaining Hours',
            description: 'Hours remaining until mute expires'
        }
    },
    type: 'object',
    required: ['muted_until', 'remaining_hours'],
    title: 'GlobalMuteResponse',
    description: 'Response schema for global mute status.'
} as const;

export const GlobalMuteStatusResponseSchema = {
    properties: {
        is_muted: {
            type: 'boolean',
            title: 'Is Muted'
        },
        mute: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/GlobalMuteResponse'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['is_muted'],
    title: 'GlobalMuteStatusResponse',
    description: 'Response for mute status check.'
} as const;

export const HTTPValidationErrorSchema = {
    properties: {
        detail: {
            items: {
                '$ref': '#/components/schemas/ValidationError'
            },
            type: 'array',
            title: 'Detail'
        }
    },
    type: 'object',
    title: 'HTTPValidationError'
} as const;

export const ImportCredentialSchema = {
    properties: {
        full_name: {
            type: 'string',
            title: 'Full Name',
            description: "Student's full name"
        },
        username: {
            type: 'string',
            title: 'Username',
            description: 'Generated username'
        },
        password: {
            type: 'string',
            title: 'Password',
            description: 'Generated password'
        },
        email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email',
            description: 'Student email if provided'
        }
    },
    type: 'object',
    required: ['full_name', 'username', 'password'],
    title: 'ImportCredential',
    description: 'Credentials for a single imported student.'
} as const;

export const ImportExecutionResponseSchema = {
    properties: {
        created_count: {
            type: 'integer',
            title: 'Created Count',
            description: 'Number of students created'
        },
        failed_count: {
            type: 'integer',
            title: 'Failed Count',
            description: 'Number of failed creations'
        },
        credentials: {
            items: {
                '$ref': '#/components/schemas/ImportCredential'
            },
            type: 'array',
            title: 'Credentials',
            description: 'Credentials for created students'
        },
        errors: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Errors',
            description: 'Errors during creation'
        }
    },
    type: 'object',
    required: ['created_count', 'failed_count', 'credentials'],
    title: 'ImportExecutionResponse',
    description: 'Response from import execution endpoint.'
} as const;

export const ImportRowResultSchema = {
    properties: {
        row_number: {
            type: 'integer',
            title: 'Row Number',
            description: 'Excel row number (1-indexed, row 1 is header)'
        },
        full_name: {
            type: 'string',
            title: 'Full Name',
            description: 'Full name from the row'
        },
        username: {
            type: 'string',
            title: 'Username',
            description: 'Generated or provided username'
        },
        email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email',
            description: 'Email if provided'
        },
        grade: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade',
            description: 'Grade level if provided'
        },
        class_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Class Name',
            description: 'Class/section if provided'
        },
        status: {
            '$ref': '#/components/schemas/ImportRowStatus',
            description: 'Validation status'
        },
        errors: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Errors',
            description: 'List of errors'
        },
        warnings: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Warnings',
            description: 'List of warnings'
        }
    },
    type: 'object',
    required: ['row_number', 'full_name', 'username', 'status'],
    title: 'ImportRowResult',
    description: 'Validation result for a single row.'
} as const;

export const ImportRowStatusSchema = {
    type: 'string',
    enum: ['valid', 'warning', 'error'],
    title: 'ImportRowStatus',
    description: 'Status of a single import row.'
} as const;

export const ImportValidationResponseSchema = {
    properties: {
        valid_count: {
            type: 'integer',
            title: 'Valid Count',
            description: 'Number of valid rows'
        },
        warning_count: {
            type: 'integer',
            title: 'Warning Count',
            description: 'Number of rows with warnings'
        },
        error_count: {
            type: 'integer',
            title: 'Error Count',
            description: 'Number of rows with errors'
        },
        total_count: {
            type: 'integer',
            title: 'Total Count',
            description: 'Total number of data rows'
        },
        rows: {
            items: {
                '$ref': '#/components/schemas/ImportRowResult'
            },
            type: 'array',
            title: 'Rows',
            description: 'Validation result for each row'
        }
    },
    type: 'object',
    required: ['valid_count', 'warning_count', 'error_count', 'total_count', 'rows'],
    title: 'ImportValidationResponse',
    description: 'Response from import validation endpoint.'
} as const;

export const ImprovementTrendSchema = {
    type: 'string',
    enum: ['improving', 'stable', 'declining'],
    title: 'ImprovementTrend',
    description: 'Trend of student improvement.'
} as const;

export const LibraryResponseSchema = {
    properties: {
        items: {
            items: {
                '$ref': '#/components/schemas/ContentItemPublic'
            },
            type: 'array',
            title: 'Items'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        page: {
            type: 'integer',
            title: 'Page'
        },
        page_size: {
            type: 'integer',
            title: 'Page Size'
        },
        has_more: {
            type: 'boolean',
            title: 'Has More'
        }
    },
    type: 'object',
    required: ['items', 'total', 'page', 'page_size', 'has_more'],
    title: 'LibraryResponse',
    description: 'Paginated library response.'
} as const;

export const LogoUploadResponseSchema = {
    properties: {
        logo_url: {
            type: 'string',
            title: 'Logo Url'
        },
        message: {
            type: 'string',
            title: 'Message',
            default: 'Logo uploaded successfully'
        }
    },
    type: 'object',
    required: ['logo_url'],
    title: 'LogoUploadResponse',
    description: 'Response for logo upload'
} as const;

export const MarkAllReadResponseSchema = {
    properties: {
        marked_count: {
            type: 'integer',
            title: 'Marked Count'
        }
    },
    type: 'object',
    required: ['marked_count'],
    title: 'MarkAllReadResponse',
    description: 'Schema for mark all as read response.'
} as const;

export const MaterialListResponseSchema = {
    properties: {
        materials: {
            items: {
                '$ref': '#/components/schemas/MaterialResponse'
            },
            type: 'array',
            title: 'Materials'
        },
        total_count: {
            type: 'integer',
            title: 'Total Count'
        },
        quota: {
            '$ref': '#/components/schemas/StorageQuotaResponse'
        }
    },
    type: 'object',
    required: ['materials', 'total_count', 'quota'],
    title: 'MaterialListResponse',
    description: 'List of materials with quota info.'
} as const;

export const MaterialResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        type: {
            '$ref': '#/components/schemas/MaterialType'
        },
        file_size: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'File Size'
        },
        mime_type: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Mime Type'
        },
        original_filename: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Original Filename'
        },
        url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Url'
        },
        text_content: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Text Content'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        download_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Download Url'
        }
    },
    type: 'object',
    required: ['id', 'name', 'type', 'created_at', 'updated_at'],
    title: 'MaterialResponse',
    description: 'Material response schema.'
} as const;

export const MaterialTypeSchema = {
    type: 'string',
    enum: ['document', 'image', 'audio', 'video', 'url', 'text_note'],
    title: 'MaterialType',
    description: 'Types of teacher materials'
} as const;

export const MaterialUpdateSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Name'
        }
    },
    type: 'object',
    required: ['name'],
    title: 'MaterialUpdate',
    description: 'Update material metadata (name only).'
} as const;

export const MessageSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        }
    },
    type: 'object',
    required: ['message'],
    title: 'Message'
} as const;

export const MessageCreateSchema = {
    properties: {
        recipient_id: {
            type: 'string',
            format: 'uuid',
            title: 'Recipient Id'
        },
        subject: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 500
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        body: {
            type: 'string',
            minLength: 1,
            title: 'Body'
        },
        parent_message_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Parent Message Id'
        }
    },
    type: 'object',
    required: ['recipient_id', 'body'],
    title: 'MessageCreate',
    description: 'Schema for creating a new message.'
} as const;

export const MessagePublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        sender_id: {
            type: 'string',
            format: 'uuid',
            title: 'Sender Id'
        },
        sender_name: {
            type: 'string',
            title: 'Sender Name'
        },
        sender_email: {
            type: 'string',
            title: 'Sender Email'
        },
        recipient_id: {
            type: 'string',
            format: 'uuid',
            title: 'Recipient Id'
        },
        recipient_name: {
            type: 'string',
            title: 'Recipient Name'
        },
        recipient_email: {
            type: 'string',
            title: 'Recipient Email'
        },
        subject: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject'
        },
        body: {
            type: 'string',
            title: 'Body'
        },
        parent_message_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Parent Message Id'
        },
        is_read: {
            type: 'boolean',
            title: 'Is Read'
        },
        sent_at: {
            type: 'string',
            format: 'date-time',
            title: 'Sent At'
        }
    },
    type: 'object',
    required: ['id', 'sender_id', 'sender_name', 'sender_email', 'recipient_id', 'recipient_name', 'recipient_email', 'subject', 'body', 'parent_message_id', 'is_read', 'sent_at'],
    title: 'MessagePublic',
    description: 'Schema for message API response with sender/recipient names.'
} as const;

export const MessageReadResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        is_read: {
            type: 'boolean',
            title: 'Is Read'
        }
    },
    type: 'object',
    required: ['id', 'is_read'],
    title: 'MessageReadResponse',
    description: 'Schema for message read status update response.'
} as const;

export const MessageThreadResponseSchema = {
    properties: {
        participant_id: {
            type: 'string',
            format: 'uuid',
            title: 'Participant Id'
        },
        participant_name: {
            type: 'string',
            title: 'Participant Name'
        },
        participant_email: {
            type: 'string',
            title: 'Participant Email'
        },
        participant_role: {
            type: 'string',
            title: 'Participant Role'
        },
        participant_organization_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Participant Organization Name'
        },
        messages: {
            items: {
                '$ref': '#/components/schemas/MessagePublic'
            },
            type: 'array',
            title: 'Messages'
        },
        total_messages: {
            type: 'integer',
            title: 'Total Messages'
        }
    },
    type: 'object',
    required: ['participant_id', 'participant_name', 'participant_email', 'participant_role', 'messages', 'total_messages'],
    title: 'MessageThreadResponse',
    description: 'Schema for message thread response.'
} as const;

export const ModuleListResponseSchema = {
    properties: {
        book_id: {
            type: 'string',
            title: 'Book Id'
        },
        total_modules: {
            type: 'integer',
            minimum: 0,
            title: 'Total Modules'
        },
        modules: {
            items: {
                '$ref': '#/components/schemas/ModuleSummary'
            },
            type: 'array',
            title: 'Modules'
        }
    },
    type: 'object',
    required: ['book_id', 'total_modules'],
    title: 'ModuleListResponse',
    description: `Response containing list of modules for a book.

Attributes:
    book_id: Unique identifier for the book.
    total_modules: Total number of modules in the book.
    modules: List of module summaries.`
} as const;

export const ModulePagesSchema = {
    properties: {
        name: {
            type: 'string',
            title: 'Name'
        },
        pages: {
            items: {
                '$ref': '#/components/schemas/PageInfo'
            },
            type: 'array',
            title: 'Pages'
        }
    },
    type: 'object',
    required: ['name', 'pages'],
    title: 'ModulePages',
    description: 'A module with its pages containing activities.'
} as const;

export const ModuleSummarySchema = {
    properties: {
        module_id: {
            type: 'integer',
            title: 'Module Id'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        pages: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Pages'
        },
        word_count: {
            type: 'integer',
            minimum: 0,
            title: 'Word Count',
            default: 0
        }
    },
    type: 'object',
    required: ['module_id', 'title'],
    title: 'ModuleSummary',
    description: `Summary information for a book module.

Provides basic information about a module without the full text content.
Used in module list responses.

Attributes:
    module_id: Unique identifier for the module within the book.
    title: Display title of the module (e.g., "Unit 1: Introduction").
    pages: List of page numbers included in this module.
    word_count: Total word count in the module text.`
} as const;

export const ModuleWithActivitiesSchema = {
    properties: {
        name: {
            type: 'string',
            title: 'Name'
        },
        page_start: {
            type: 'integer',
            title: 'Page Start'
        },
        page_end: {
            type: 'integer',
            title: 'Page End'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count'
        },
        activity_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Activity Ids'
        },
        pages: {
            items: {
                '$ref': '#/components/schemas/PageWithActivities'
            },
            type: 'array',
            title: 'Pages'
        }
    },
    type: 'object',
    required: ['name', 'page_start', 'page_end', 'activity_count', 'activity_ids', 'pages'],
    title: 'ModuleWithActivities',
    description: 'Module information with pages and activity IDs for bulk selection.'
} as const;

export const MostMissedQuestionSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        correct_percentage: {
            type: 'number',
            title: 'Correct Percentage'
        },
        common_wrong_answer: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Common Wrong Answer'
        }
    },
    type: 'object',
    required: ['question_id', 'question_text', 'correct_percentage', 'common_wrong_answer'],
    title: 'MostMissedQuestion',
    description: 'A question that was frequently missed.'
} as const;

export const MultiActivityAnalyticsResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        total_students: {
            type: 'integer',
            title: 'Total Students'
        },
        submitted_count: {
            type: 'integer',
            title: 'Submitted Count'
        },
        activities: {
            items: {
                '$ref': '#/components/schemas/ActivityAnalyticsItem'
            },
            type: 'array',
            title: 'Activities'
        },
        expanded_students: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/StudentActivityScore'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Expanded Students'
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'total_students', 'submitted_count', 'activities'],
    title: 'MultiActivityAnalyticsResponse',
    description: 'Response schema for multi-activity assignment analytics (teacher view).'
} as const;

export const MultiActivityStartResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_name: {
            type: 'string',
            title: 'Book Name'
        },
        publisher_name: {
            type: 'string',
            title: 'Publisher Name'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        activities: {
            items: {
                '$ref': '#/components/schemas/ActivityWithConfig'
            },
            type: 'array',
            title: 'Activities'
        },
        activity_progress: {
            items: {
                '$ref': '#/components/schemas/ActivityProgressInfo'
            },
            type: 'array',
            title: 'Activity Progress'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        },
        current_status: {
            type: 'string',
            title: 'Current Status'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        started_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Started At'
        },
        video_path: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Video Path'
        },
        resources: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AdditionalResourcesResponse'
                },
                {
                    type: 'null'
                }
            ]
        },
        completed_activities_count: {
            type: 'integer',
            title: 'Completed Activities Count',
            description: 'Count of completed activities.',
            readOnly: true
        },
        all_activities_completed: {
            type: 'boolean',
            title: 'All Activities Completed',
            description: 'Check if all activities are completed.',
            readOnly: true
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'instructions', 'due_date', 'time_limit_minutes', 'book_id', 'book_title', 'book_name', 'publisher_name', 'book_cover_url', 'activities', 'activity_progress', 'total_activities', 'current_status', 'time_spent_minutes', 'started_at', 'completed_activities_count', 'all_activities_completed'],
    title: 'MultiActivityStartResponse',
    description: 'Response schema for starting a multi-activity assignment.'
} as const;

export const MultiActivitySubmitRequestSchema = {
    properties: {
        force_submit: {
            type: 'boolean',
            title: 'Force Submit',
            default: false
        },
        total_time_spent_minutes: {
            type: 'integer',
            title: 'Total Time Spent Minutes',
            default: 0
        },
        total_time_spent_seconds: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Total Time Spent Seconds'
        },
        activity_states: {
            anyOf: [
                {
                    items: {
                        '$ref': '#/components/schemas/SubmitActivityState'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity States'
        }
    },
    type: 'object',
    title: 'MultiActivitySubmitRequest',
    description: 'Request schema for submitting a multi-activity assignment.'
} as const;

export const MultiActivitySubmitResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        message: {
            type: 'string',
            title: 'Message'
        },
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        combined_score: {
            type: 'number',
            title: 'Combined Score'
        },
        per_activity_scores: {
            items: {
                '$ref': '#/components/schemas/PerActivityScore'
            },
            type: 'array',
            title: 'Per Activity Scores'
        },
        completed_at: {
            type: 'string',
            format: 'date-time',
            title: 'Completed At'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        },
        completed_activities: {
            type: 'integer',
            title: 'Completed Activities'
        }
    },
    type: 'object',
    required: ['success', 'message', 'assignment_id', 'combined_score', 'per_activity_scores', 'completed_at', 'total_activities', 'completed_activities'],
    title: 'MultiActivitySubmitResponse',
    description: 'Response schema for multi-activity assignment submission.'
} as const;

export const NewPasswordSchema = {
    properties: {
        token: {
            type: 'string',
            title: 'Token'
        },
        new_password: {
            type: 'string',
            maxLength: 40,
            minLength: 8,
            title: 'New Password'
        }
    },
    type: 'object',
    required: ['token', 'new_password'],
    title: 'NewPassword'
} as const;

export const NotificationListResponseSchema = {
    properties: {
        notifications: {
            items: {
                '$ref': '#/components/schemas/NotificationResponse'
            },
            type: 'array',
            title: 'Notifications'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        limit: {
            type: 'integer',
            title: 'Limit'
        },
        offset: {
            type: 'integer',
            title: 'Offset'
        },
        has_more: {
            type: 'boolean',
            title: 'Has More'
        }
    },
    type: 'object',
    required: ['notifications', 'total', 'limit', 'offset', 'has_more'],
    title: 'NotificationListResponse',
    description: 'Schema for paginated notification list response.'
} as const;

export const NotificationPreferenceResponseSchema = {
    properties: {
        notification_type: {
            '$ref': '#/components/schemas/app__models__NotificationType'
        },
        enabled: {
            type: 'boolean',
            title: 'Enabled'
        },
        email_enabled: {
            type: 'boolean',
            title: 'Email Enabled'
        },
        label: {
            type: 'string',
            title: 'Label'
        },
        description: {
            type: 'string',
            title: 'Description'
        }
    },
    type: 'object',
    required: ['notification_type', 'enabled', 'email_enabled', 'label', 'description'],
    title: 'NotificationPreferenceResponse',
    description: 'Response schema for a single notification preference.'
} as const;

export const NotificationPreferenceUpdateSchema = {
    properties: {
        enabled: {
            type: 'boolean',
            title: 'Enabled'
        }
    },
    type: 'object',
    required: ['enabled'],
    title: 'NotificationPreferenceUpdate',
    description: 'Schema for updating a single preference.'
} as const;

export const NotificationPreferencesBulkUpdateSchema = {
    properties: {
        preferences: {
            additionalProperties: {
                type: 'boolean'
            },
            type: 'object',
            title: 'Preferences',
            description: 'Map of notification type to enabled status'
        }
    },
    type: 'object',
    required: ['preferences'],
    title: 'NotificationPreferencesBulkUpdate',
    description: `Schema for bulk updating preferences.

Keys are notification type names, values are enabled status.
Example: {"assignment_created": true, "deadline_approaching": false}`
} as const;

export const NotificationPreferencesBulkUpdateResponseSchema = {
    properties: {
        updated: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Updated'
        },
        preferences: {
            items: {
                '$ref': '#/components/schemas/NotificationPreferenceResponse'
            },
            type: 'array',
            title: 'Preferences'
        }
    },
    type: 'object',
    required: ['updated', 'preferences'],
    title: 'NotificationPreferencesBulkUpdateResponse',
    description: 'Response for bulk preference update.'
} as const;

export const NotificationPreferencesListResponseSchema = {
    properties: {
        preferences: {
            items: {
                '$ref': '#/components/schemas/NotificationPreferenceResponse'
            },
            type: 'array',
            title: 'Preferences'
        },
        global_mute: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/GlobalMuteResponse'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['preferences'],
    title: 'NotificationPreferencesListResponse',
    description: 'Response schema for all user notification preferences.'
} as const;

export const NotificationResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        user_id: {
            type: 'string',
            format: 'uuid',
            title: 'User Id'
        },
        type: {
            '$ref': '#/components/schemas/app__schemas__notification__NotificationType'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        message: {
            type: 'string',
            title: 'Message'
        },
        link: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Link'
        },
        is_read: {
            type: 'boolean',
            title: 'Is Read'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['id', 'user_id', 'type', 'title', 'message', 'link', 'is_read', 'created_at'],
    title: 'NotificationResponse',
    description: 'Schema for notification API response.'
} as const;

export const NotificationType_InputSchema = {
    type: 'string',
    enum: ['assignment_created', 'deadline_approaching', 'feedback_received', 'message_received', 'student_completed', 'past_due', 'material_shared', 'system_announcement', 'password_reset', 'announcement'],
    title: 'NotificationType',
    description: 'Notification type enumeration'
} as const;

export const PageActivityResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        section_index: {
            type: 'integer',
            title: 'Section Index'
        },
        order_index: {
            type: 'integer',
            title: 'Order Index'
        }
    },
    type: 'object',
    required: ['id', 'title', 'activity_type', 'section_index', 'order_index'],
    title: 'PageActivityResponse',
    description: 'Activity response for page-based selection.'
} as const;

export const PageDetailSchema = {
    properties: {
        page_number: {
            type: 'integer',
            title: 'Page Number'
        },
        image_url: {
            type: 'string',
            title: 'Image Url'
        },
        module_name: {
            type: 'string',
            title: 'Module Name'
        },
        activities: {
            items: {
                '$ref': '#/components/schemas/ActivityMarker'
            },
            type: 'array',
            title: 'Activities'
        }
    },
    type: 'object',
    required: ['page_number', 'image_url', 'module_name', 'activities'],
    title: 'PageDetail',
    description: 'Detailed page information including image and activity markers.'
} as const;

export const PageInfoSchema = {
    properties: {
        page_number: {
            type: 'integer',
            title: 'Page Number'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count'
        },
        thumbnail_url: {
            type: 'string',
            title: 'Thumbnail Url'
        }
    },
    type: 'object',
    required: ['page_number', 'activity_count', 'thumbnail_url'],
    title: 'PageInfo',
    description: 'Information about a single page in a book module.'
} as const;

export const PageWithActivitiesSchema = {
    properties: {
        page_number: {
            type: 'integer',
            title: 'Page Number'
        },
        thumbnail_url: {
            type: 'string',
            title: 'Thumbnail Url'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count'
        },
        activity_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Activity Ids'
        }
    },
    type: 'object',
    required: ['page_number', 'thumbnail_url', 'activity_count', 'activity_ids'],
    title: 'PageWithActivities',
    description: 'Page information with activity IDs for bulk selection.'
} as const;

export const PasswordResetResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        message: {
            type: 'string',
            title: 'Message'
        },
        password_emailed: {
            type: 'boolean',
            title: 'Password Emailed'
        },
        temporary_password: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Temporary Password'
        }
    },
    type: 'object',
    required: ['success', 'message', 'password_emailed'],
    title: 'PasswordResetResponse',
    description: `Response schema for password reset endpoint - secure version (Story 11.2)

Never contains the actual password unless user has no email address.`
} as const;

export const PerActivityScoreSchema = {
    properties: {
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Title'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        max_score: {
            type: 'number',
            title: 'Max Score'
        },
        status: {
            type: 'string',
            title: 'Status'
        }
    },
    type: 'object',
    required: ['activity_id', 'activity_title', 'score', 'max_score', 'status'],
    title: 'PerActivityScore',
    description: 'Per-activity score info for submission response.'
} as const;

export const PerformanceTrendPointSchema = {
    properties: {
        date: {
            type: 'string',
            title: 'Date'
        },
        score: {
            type: 'integer',
            title: 'Score'
        }
    },
    type: 'object',
    required: ['date', 'score'],
    title: 'PerformanceTrendPoint',
    description: 'Single data point in performance trend chart.'
} as const;

export const PredefinedAvatarSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        url: {
            type: 'string',
            title: 'Url'
        }
    },
    type: 'object',
    required: ['id', 'name', 'url'],
    title: 'PredefinedAvatar',
    description: 'Predefined avatar response model.'
} as const;

export const PredefinedAvatarsResponseSchema = {
    properties: {
        avatars: {
            items: {
                '$ref': '#/components/schemas/PredefinedAvatar'
            },
            type: 'array',
            title: 'Avatars'
        }
    },
    type: 'object',
    required: ['avatars'],
    title: 'PredefinedAvatarsResponse',
    description: 'Response containing all predefined avatars.'
} as const;

export const PresignedUrlResponseSchema = {
    properties: {
        url: {
            type: 'string',
            title: 'Url'
        },
        expires_in_seconds: {
            type: 'integer',
            title: 'Expires In Seconds'
        },
        content_type: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Content Type'
        }
    },
    type: 'object',
    required: ['url', 'expires_in_seconds'],
    title: 'PresignedUrlResponse',
    description: 'Presigned URL for direct file access.'
} as const;

export const PrivateUserCreateSchema = {
    properties: {
        email: {
            type: 'string',
            title: 'Email'
        },
        password: {
            type: 'string',
            title: 'Password'
        },
        full_name: {
            type: 'string',
            title: 'Full Name'
        },
        is_verified: {
            type: 'boolean',
            title: 'Is Verified',
            default: false
        }
    },
    type: 'object',
    required: ['email', 'password', 'full_name'],
    title: 'PrivateUserCreate'
} as const;

export const ProcessingMetadataSchema = {
    properties: {
        book_id: {
            type: 'string',
            title: 'Book Id'
        },
        processing_status: {
            type: 'string',
            title: 'Processing Status',
            description: 'Status: pending, processing, completed, partial, failed'
        },
        total_pages: {
            type: 'integer',
            minimum: 0,
            title: 'Total Pages',
            default: 0
        },
        total_modules: {
            type: 'integer',
            minimum: 0,
            title: 'Total Modules',
            default: 0
        },
        total_vocabulary: {
            type: 'integer',
            minimum: 0,
            title: 'Total Vocabulary',
            default: 0
        },
        total_audio_files: {
            type: 'integer',
            minimum: 0,
            title: 'Total Audio Files',
            default: 0
        },
        languages: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Languages'
        },
        primary_language: {
            type: 'string',
            title: 'Primary Language',
            default: 'en'
        },
        difficulty_range: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Difficulty Range'
        },
        stages: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Stages'
        }
    },
    type: 'object',
    required: ['book_id', 'processing_status'],
    title: 'ProcessingMetadata',
    description: `Processing metadata for a book's AI data.

Contains information about the processing status and totals
for a book that has been processed by the AI extraction pipeline.

Attributes:
    book_id: Unique identifier for the book in DCS.
    processing_status: Current processing status
        (pending, processing, completed, partial, failed).
    total_pages: Total number of pages in the book.
    total_modules: Total number of modules extracted.
    total_vocabulary: Total number of vocabulary words extracted.
    total_audio_files: Total number of audio files generated.
    languages: List of language codes found in the book.
    primary_language: Primary language of the book content.
    difficulty_range: List of CEFR difficulty levels covered.
    stages: Optional processing stage information.`
} as const;

export const ProgressRecentAssignmentSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        score: {
            type: 'integer',
            title: 'Score'
        },
        completed_at: {
            type: 'string',
            format: 'date-time',
            title: 'Completed At'
        },
        has_feedback: {
            type: 'boolean',
            title: 'Has Feedback'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        }
    },
    type: 'object',
    required: ['id', 'name', 'score', 'completed_at', 'has_feedback', 'activity_type', 'book_title'],
    title: 'ProgressRecentAssignment',
    description: 'Recent assignment for student progress view.'
} as const;

export const PublishAssignmentsResponseSchema = {
    properties: {
        success: {
            type: 'boolean',
            title: 'Success'
        },
        assignments_published: {
            type: 'integer',
            title: 'Assignments Published'
        },
        notifications_sent: {
            type: 'integer',
            title: 'Notifications Sent'
        },
        students_notified: {
            type: 'integer',
            title: 'Students Notified'
        },
        message: {
            type: 'string',
            title: 'Message'
        }
    },
    type: 'object',
    required: ['success', 'assignments_published', 'notifications_sent', 'students_notified', 'message'],
    title: 'PublishAssignmentsResponse',
    description: 'Response model for publish scheduled assignments task.'
} as const;

export const PublisherAccountCreateSchema = {
    properties: {
        dcs_publisher_id: {
            type: 'integer',
            title: 'Dcs Publisher Id',
            description: 'DCS Publisher ID to link'
        },
        username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'Username',
            description: 'Username (auto-generated from full_name if not provided)'
        },
        email: {
            type: 'string',
            format: 'email',
            title: 'Email'
        },
        full_name: {
            type: 'string',
            maxLength: 255,
            title: 'Full Name'
        }
    },
    type: 'object',
    required: ['dcs_publisher_id', 'email', 'full_name'],
    title: 'PublisherAccountCreate',
    description: 'Create a publisher user account linked to a DCS publisher.'
} as const;

export const PublisherAccountCreationResponseSchema = {
    properties: {
        user: {
            '$ref': '#/components/schemas/UserPublic'
        },
        temporary_password: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Temporary Password'
        },
        password_emailed: {
            type: 'boolean',
            title: 'Password Emailed',
            default: false
        },
        message: {
            type: 'string',
            title: 'Message',
            default: ''
        }
    },
    type: 'object',
    required: ['user'],
    title: 'PublisherAccountCreationResponse',
    description: `Response for creating a publisher user account.

Different from UserCreationResponse because publishers don't have a role_record.`
} as const;

export const PublisherAccountListResponseSchema = {
    properties: {
        data: {
            items: {
                '$ref': '#/components/schemas/PublisherAccountPublic'
            },
            type: 'array',
            title: 'Data'
        },
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['data', 'count'],
    title: 'PublisherAccountListResponse',
    description: 'Response for listing publisher accounts.'
} as const;

export const PublisherAccountPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        username: {
            type: 'string',
            title: 'Username'
        },
        email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        full_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        dcs_publisher_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Id'
        },
        dcs_publisher_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Name'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active'
        },
        created_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['id', 'username', 'email', 'full_name', 'dcs_publisher_id', 'is_active'],
    title: 'PublisherAccountPublic',
    description: 'Publisher account response with DCS enrichment.'
} as const;

export const PublisherAccountUpdateSchema = {
    properties: {
        dcs_publisher_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Id'
        },
        username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'Username'
        },
        email: {
            anyOf: [
                {
                    type: 'string',
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        is_active: {
            anyOf: [
                {
                    type: 'boolean'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Is Active'
        }
    },
    type: 'object',
    title: 'PublisherAccountUpdate',
    description: 'Update a publisher user account.'
} as const;

export const PublisherProfileSchema = {
    properties: {
        id: {
            type: 'integer',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        contact_email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Email'
        },
        logo_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Logo Url'
        },
        user_id: {
            type: 'string',
            format: 'uuid',
            title: 'User Id'
        },
        user_email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Email'
        },
        user_full_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Full Name'
        }
    },
    type: 'object',
    required: ['id', 'name', 'user_id'],
    title: 'PublisherProfile',
    description: 'Publisher profile combining DCS and LMS data.'
} as const;

export const PublisherPublicSchema = {
    properties: {
        id: {
            type: 'integer',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        contact_email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Email'
        },
        logo_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Logo Url'
        }
    },
    type: 'object',
    required: ['id', 'name'],
    title: 'PublisherPublic',
    description: 'Publisher data for API responses - sourced from DCS.'
} as const;

export const PublisherStatsSchema = {
    properties: {
        schools_count: {
            type: 'integer',
            title: 'Schools Count'
        },
        teachers_count: {
            type: 'integer',
            title: 'Teachers Count'
        },
        books_count: {
            type: 'integer',
            title: 'Books Count'
        }
    },
    type: 'object',
    required: ['schools_count', 'teachers_count', 'books_count'],
    title: 'PublisherStats',
    description: 'Publisher organization statistics.'
} as const;

export const QuestionAnalysisSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        correct_percentage: {
            type: 'number',
            title: 'Correct Percentage'
        },
        total_responses: {
            type: 'integer',
            title: 'Total Responses'
        },
        answer_distribution: {
            items: {
                '$ref': '#/components/schemas/AnswerDistributionItem'
            },
            type: 'array',
            title: 'Answer Distribution'
        }
    },
    type: 'object',
    required: ['question_id', 'question_text', 'correct_percentage', 'total_responses', 'answer_distribution'],
    title: 'QuestionAnalysis',
    description: 'Analysis of a single question/item.'
} as const;

export const QuestionResultSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        student_answer: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Student Answer'
        },
        is_correct: {
            type: 'boolean',
            title: 'Is Correct'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        }
    },
    type: 'object',
    required: ['question_id', 'definition', 'correct_answer', 'student_answer', 'is_correct'],
    title: 'QuestionResult',
    description: `Result for a single question after submission.

Attributes:
    question_id: ID of the question.
    definition: The definition that was shown.
    correct_answer: The correct word.
    student_answer: The word the student selected.
    is_correct: Whether the student's answer was correct.
    audio_url: Audio URL for the word pronunciation.`
} as const;

export const ReadingComprehensionActivitySchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_id: {
            type: 'integer',
            title: 'Module Id'
        },
        module_title: {
            type: 'string',
            title: 'Module Title'
        },
        passage: {
            type: 'string',
            title: 'Passage',
            description: 'AI-generated passage based on module topics/context.'
        },
        passage_pages: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Passage Pages'
        },
        questions: {
            items: {
                '$ref': '#/components/schemas/ReadingComprehensionQuestion'
            },
            type: 'array',
            title: 'Questions'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        language: {
            type: 'string',
            title: 'Language'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['activity_id', 'book_id', 'module_id', 'module_title', 'passage', 'questions', 'difficulty', 'language', 'created_at'],
    title: 'ReadingComprehensionActivity',
    description: `A complete reading comprehension activity.

Contains an AI-generated passage based on module topics/context
and comprehension questions about that passage.

Attributes:
    activity_id: Unique identifier for the activity.
    book_id: ID of the source book.
    module_id: ID of the source module.
    module_title: Title of the module.
    passage: AI-generated passage based on module topics.
    passage_pages: Page numbers from the source module.
    questions: List of comprehension questions.
    difficulty: Difficulty level of the activity.
    language: Language of the content.
    created_at: When the activity was generated.`
} as const;

export const ReadingComprehensionActivityPublicSchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_id: {
            type: 'integer',
            title: 'Module Id'
        },
        module_title: {
            type: 'string',
            title: 'Module Title'
        },
        passage: {
            type: 'string',
            title: 'Passage'
        },
        passage_pages: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Passage Pages'
        },
        questions: {
            items: {
                '$ref': '#/components/schemas/ReadingComprehensionQuestionPublic'
            },
            type: 'array',
            title: 'Questions'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        language: {
            type: 'string',
            title: 'Language'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        question_count: {
            type: 'integer',
            title: 'Question Count'
        }
    },
    type: 'object',
    required: ['activity_id', 'book_id', 'module_id', 'module_title', 'passage', 'questions', 'difficulty', 'language', 'created_at', 'question_count'],
    title: 'ReadingComprehensionActivityPublic',
    description: `Public version of activity without correct answers.

Returned to students when they access an activity.

Attributes:
    activity_id: Unique identifier for the activity.
    book_id: ID of the source book.
    module_id: ID of the source module.
    module_title: Title of the module.
    passage: ACTUAL text from the module.
    passage_pages: Page numbers covered by the passage.
    questions: List of questions without answers.
    difficulty: Difficulty level.
    language: Language of the content.
    created_at: When the activity was generated.
    question_count: Number of questions.`
} as const;

export const ReadingComprehensionAnswerSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        answer_index: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Answer Index',
            description: 'Selected option index for MCQ/True-False.'
        },
        answer_text: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Answer Text',
            description: 'Text answer for short answer questions.'
        }
    },
    type: 'object',
    required: ['question_id'],
    title: 'ReadingComprehensionAnswer',
    description: `A single answer in a submission.

For MCQ/True-False: answer_index is used.
For Short Answer: answer_text is used.

Attributes:
    question_id: ID of the question being answered.
    answer_index: Selected option index (for MCQ/True-False).
    answer_text: Text answer (for short answer questions).`
} as const;

export const ReadingComprehensionQuestionSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_type: {
            type: 'string',
            enum: ['mcq', 'true_false'],
            title: 'Question Type'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        options: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Options',
            description: 'Answer options for MCQ (4 options) or True/False (2 options).'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        correct_index: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Correct Index',
            description: 'Index of correct answer for MCQ/True-False.'
        },
        explanation: {
            type: 'string',
            title: 'Explanation'
        },
        passage_reference: {
            type: 'string',
            title: 'Passage Reference',
            description: 'Quote from passage supporting the answer.'
        }
    },
    type: 'object',
    required: ['question_id', 'question_type', 'question_text', 'correct_answer', 'explanation', 'passage_reference'],
    title: 'ReadingComprehensionQuestion',
    description: `A single comprehension question about the passage.

Contains the question, answer options (for MCQ/True-False),
correct answer, and a passage reference quote.

Attributes:
    question_id: Unique identifier for the question.
    question_type: Type of question (mcq, true_false, short_answer).
    question_text: The question or statement text.
    options: Answer options (for MCQ/True-False, None for short_answer).
    correct_answer: The correct answer text.
    correct_index: Index of correct answer (for MCQ/True-False).
    explanation: Explanation of the correct answer.
    passage_reference: Quote from passage that supports the answer.`
} as const;

export const ReadingComprehensionQuestionPublicSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_type: {
            type: 'string',
            enum: ['mcq', 'true_false'],
            title: 'Question Type'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        options: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Options'
        }
    },
    type: 'object',
    required: ['question_id', 'question_type', 'question_text'],
    title: 'ReadingComprehensionQuestionPublic',
    description: `Public version of question without correct answer.

Used when returning questions to students before submission.

Attributes:
    question_id: Unique identifier for the question.
    question_type: Type of question.
    question_text: The question or statement text.
    options: Answer options (for MCQ/True-False).`
} as const;

export const ReadingComprehensionQuestionResultSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        question_type: {
            type: 'string',
            enum: ['mcq', 'true_false'],
            title: 'Question Type'
        },
        question_text: {
            type: 'string',
            title: 'Question Text'
        },
        options: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Options'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        correct_index: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Correct Index'
        },
        student_answer_index: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Student Answer Index'
        },
        student_answer_text: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Student Answer Text'
        },
        is_correct: {
            type: 'boolean',
            title: 'Is Correct'
        },
        similarity_score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Similarity Score',
            description: 'Similarity score for short answers (0-1).'
        },
        explanation: {
            type: 'string',
            title: 'Explanation'
        },
        passage_reference: {
            type: 'string',
            title: 'Passage Reference'
        }
    },
    type: 'object',
    required: ['question_id', 'question_type', 'question_text', 'correct_answer', 'is_correct', 'explanation', 'passage_reference'],
    title: 'ReadingComprehensionQuestionResult',
    description: `Result for a single question after submission.

Attributes:
    question_id: ID of the question.
    question_type: Type of question.
    question_text: The question text.
    options: Answer options (if applicable).
    correct_answer: The correct answer.
    correct_index: Index of correct answer (if applicable).
    student_answer_index: Index selected by student (if applicable).
    student_answer_text: Text answer by student (if applicable).
    is_correct: Whether the answer was correct.
    similarity_score: Similarity score for short answers (0-1).
    explanation: Explanation of the correct answer.
    passage_reference: Quote from passage supporting the answer.`
} as const;

export const ReadingComprehensionRequestSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_id: {
            type: 'integer',
            title: 'Module Id',
            description: 'Module ID - used as context for passage generation.'
        },
        question_count: {
            type: 'integer',
            maximum: 50,
            minimum: 1,
            title: 'Question Count',
            description: 'Number of questions (1-50).',
            default: 5
        },
        question_types: {
            items: {
                type: 'string',
                enum: ['mcq', 'true_false']
            },
            type: 'array',
            title: 'Question Types',
            description: 'Types of questions to generate (MCQ and True/False only).',
            default: ['mcq', 'true_false']
        },
        difficulty: {
            type: 'string',
            enum: ['auto', 'easy', 'medium', 'hard'],
            title: 'Difficulty',
            description: "Difficulty level. 'auto' uses module's CEFR level.",
            default: 'auto'
        },
        passage_length: {
            type: 'integer',
            maximum: 500,
            minimum: 100,
            title: 'Passage Length',
            description: 'Target word count for the AI-generated passage (100-500).',
            default: 200
        }
    },
    type: 'object',
    required: ['book_id', 'module_id'],
    title: 'ReadingComprehensionRequest',
    description: `Request to generate a reading comprehension activity.

The LLM creates an ORIGINAL passage based on module topics/context,
then generates comprehension questions about that passage.

Attributes:
    book_id: ID of the book containing the module.
    module_id: ID of the module to use as context source.
    question_count: Number of questions to generate (1-10).
    question_types: Types of questions to generate.
    difficulty: Difficulty level. "auto" uses module's CEFR level.
    passage_length: Target word count for the AI-generated passage.`
} as const;

export const ReadingComprehensionResultSchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        score: {
            type: 'integer',
            minimum: 0,
            title: 'Score'
        },
        total: {
            type: 'integer',
            minimum: 1,
            title: 'Total'
        },
        percentage: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Percentage'
        },
        question_results: {
            items: {
                '$ref': '#/components/schemas/ReadingComprehensionQuestionResult'
            },
            type: 'array',
            title: 'Question Results'
        },
        score_by_type: {
            additionalProperties: {
                additionalProperties: {
                    type: 'integer'
                },
                type: 'object'
            },
            type: 'object',
            title: 'Score By Type',
            description: "Score breakdown: {'mcq': {'correct': 2, 'total': 3}, ...}"
        },
        submitted_at: {
            type: 'string',
            format: 'date-time',
            title: 'Submitted At'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        passage: {
            type: 'string',
            title: 'Passage'
        },
        module_title: {
            type: 'string',
            title: 'Module Title'
        }
    },
    type: 'object',
    required: ['activity_id', 'student_id', 'score', 'total', 'percentage', 'question_results', 'submitted_at', 'difficulty', 'passage', 'module_title'],
    title: 'ReadingComprehensionResult',
    description: `Complete results of a submitted reading comprehension activity.

Returned after a student submits their answers.

Attributes:
    activity_id: ID of the activity.
    student_id: ID of the student who submitted.
    score: Number of correct answers.
    total: Total number of questions.
    percentage: Score as a percentage (0-100).
    question_results: Detailed results for each question.
    score_by_type: Score breakdown by question type.
    submitted_at: When the activity was submitted.
    difficulty: Difficulty level of the activity.
    passage: The passage text (for review).
    module_title: Title of the source module.`
} as const;

export const ReadingComprehensionSubmissionSchema = {
    properties: {
        answers: {
            items: {
                '$ref': '#/components/schemas/ReadingComprehensionAnswer'
            },
            type: 'array',
            title: 'Answers',
            description: 'List of answers for each question.'
        }
    },
    type: 'object',
    required: ['answers'],
    title: 'ReadingComprehensionSubmission',
    description: `Student's submission of activity answers.

Attributes:
    answers: List of answers for each question.`
} as const;

export const RecentActivityItemSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        score: {
            type: 'integer',
            title: 'Score'
        },
        completed_at: {
            type: 'string',
            format: 'date-time',
            title: 'Completed At'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'score', 'completed_at', 'time_spent_minutes'],
    title: 'RecentActivityItem',
    description: 'Single recent assignment completion.'
} as const;

export const RecipientListResponseSchema = {
    properties: {
        recipients: {
            items: {
                '$ref': '#/components/schemas/RecipientPublic'
            },
            type: 'array',
            title: 'Recipients'
        },
        total: {
            type: 'integer',
            title: 'Total'
        }
    },
    type: 'object',
    required: ['recipients', 'total'],
    title: 'RecipientListResponse',
    description: 'Schema for list of allowed recipients.'
} as const;

export const RecipientPublicSchema = {
    properties: {
        user_id: {
            type: 'string',
            format: 'uuid',
            title: 'User Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        email: {
            type: 'string',
            title: 'Email'
        },
        role: {
            type: 'string',
            title: 'Role'
        },
        organization_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Organization Name'
        }
    },
    type: 'object',
    required: ['user_id', 'name', 'email', 'role'],
    title: 'RecipientPublic',
    description: 'Schema for an allowed recipient.'
} as const;

export const RegenerateQuestionRequestSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        question_index: {
            type: 'integer',
            minimum: 0,
            title: 'Question Index',
            description: 'Zero-based index of the question'
        },
        context: {
            additionalProperties: true,
            type: 'object',
            title: 'Context',
            description: 'Original generation parameters (difficulty, language, etc.)'
        }
    },
    type: 'object',
    required: ['quiz_id', 'question_index'],
    title: 'RegenerateQuestionRequest',
    description: `Request to regenerate a single question in a quiz.

Attributes:
    quiz_id: ID of the quiz containing the question.
    question_index: Zero-based index of the question to regenerate.
    context: Original generation context (difficulty, language, etc.).`
} as const;

export const ReportFormatSchema = {
    type: 'string',
    enum: ['pdf', 'excel'],
    title: 'ReportFormat',
    description: 'Output format for generated reports.'
} as const;

export const ReportGenerateRequestSchema = {
    properties: {
        report_type: {
            '$ref': '#/components/schemas/ReportType'
        },
        period: {
            '$ref': '#/components/schemas/ReportPeriod'
        },
        start_date: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Start Date',
            description: 'ISO date for custom period start (YYYY-MM-DD)'
        },
        end_date: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'End Date',
            description: 'ISO date for custom period end (YYYY-MM-DD)'
        },
        target_id: {
            type: 'string',
            title: 'Target Id',
            description: 'UUID of target (student, class, or None for assignment)'
        },
        format: {
            '$ref': '#/components/schemas/ReportFormat'
        },
        template_type: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/ReportTemplateType'
                },
                {
                    type: 'null'
                }
            ],
            description: 'Optional predefined template to use'
        }
    },
    type: 'object',
    required: ['report_type', 'period', 'target_id', 'format'],
    title: 'ReportGenerateRequest',
    description: 'Request to generate a new report.'
} as const;

export const ReportHistoryItemSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        job_id: {
            type: 'string',
            title: 'Job Id'
        },
        report_type: {
            '$ref': '#/components/schemas/ReportType'
        },
        template_type: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/ReportTemplateType'
                },
                {
                    type: 'null'
                }
            ]
        },
        format: {
            '$ref': '#/components/schemas/ReportFormat'
        },
        target_name: {
            type: 'string',
            title: 'Target Name'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        expires_at: {
            type: 'string',
            format: 'date-time',
            title: 'Expires At'
        },
        download_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Download Url'
        },
        is_expired: {
            type: 'boolean',
            title: 'Is Expired',
            default: false
        }
    },
    type: 'object',
    required: ['id', 'job_id', 'report_type', 'template_type', 'format', 'target_name', 'created_at', 'expires_at'],
    title: 'ReportHistoryItem',
    description: 'A previously generated report in history.'
} as const;

export const ReportHistoryResponseSchema = {
    properties: {
        reports: {
            items: {
                '$ref': '#/components/schemas/ReportHistoryItem'
            },
            type: 'array',
            title: 'Reports'
        }
    },
    type: 'object',
    required: ['reports'],
    title: 'ReportHistoryResponse',
    description: 'Response containing report history list.'
} as const;

export const ReportJobResponseSchema = {
    properties: {
        job_id: {
            type: 'string',
            title: 'Job Id'
        },
        status: {
            '$ref': '#/components/schemas/ReportJobStatus'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        estimated_completion: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Estimated Completion'
        }
    },
    type: 'object',
    required: ['job_id', 'status', 'created_at'],
    title: 'ReportJobResponse',
    description: 'Response after initiating report generation.'
} as const;

export const ReportJobStatusSchema = {
    type: 'string',
    enum: ['pending', 'processing', 'completed', 'failed'],
    title: 'ReportJobStatus',
    description: 'Status of a report generation job.'
} as const;

export const ReportPeriodSchema = {
    type: 'string',
    enum: ['week', 'month', 'semester', 'custom'],
    title: 'ReportPeriod',
    description: 'Time period for report data.'
} as const;

export const ReportStatusResponseSchema = {
    properties: {
        job_id: {
            type: 'string',
            title: 'Job Id'
        },
        status: {
            '$ref': '#/components/schemas/ReportJobStatus'
        },
        progress_percentage: {
            type: 'integer',
            maximum: 100,
            minimum: 0,
            title: 'Progress Percentage'
        },
        download_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Download Url'
        },
        error_message: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Error Message'
        }
    },
    type: 'object',
    required: ['job_id', 'status', 'progress_percentage'],
    title: 'ReportStatusResponse',
    description: 'Response for checking report job status.'
} as const;

export const ReportTemplateTypeSchema = {
    type: 'string',
    enum: ['weekly_class_summary', 'student_progress_report', 'monthly_assignment_overview', 'parent_teacher_conference'],
    title: 'ReportTemplateType',
    description: 'Predefined report template types.'
} as const;

export const ReportTypeSchema = {
    type: 'string',
    enum: ['student', 'class', 'assignment'],
    title: 'ReportType',
    description: 'Type of report to generate.'
} as const;

export const SaveToLibraryRequestSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        activity_type: {
            type: 'string',
            maxLength: 50,
            title: 'Activity Type'
        },
        title: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Title'
        },
        description: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 1000
                },
                {
                    type: 'null'
                }
            ],
            title: 'Description'
        },
        content: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Content',
            description: 'Full content data. If provided, used directly instead of storage lookup.'
        }
    },
    type: 'object',
    required: ['quiz_id', 'activity_type', 'title'],
    title: 'SaveToLibraryRequest',
    description: `Request to save generated content to teacher's library.

Attributes:
    quiz_id: ID of the quiz to save.
    activity_type: Type of activity (ai_quiz, vocabulary_quiz, reading, etc.).
    title: Title for the saved content.
    description: Optional description for the saved content.
    content: Optional full content data. If provided, used directly.
        If not provided, falls back to looking up from in-memory storage.`
} as const;

export const SaveToLibraryResponseSchema = {
    properties: {
        content_id: {
            type: 'string',
            format: 'uuid',
            title: 'Content Id'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['content_id', 'title', 'activity_type', 'created_at'],
    title: 'SaveToLibraryResponse',
    description: `Response after saving content to library.

Attributes:
    content_id: ID of the saved content in teacher's library.
    title: Title of the saved content.
    activity_type: Type of activity.
    created_at: When the content was saved.`
} as const;

export const SavedReportTemplateSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        config: {
            '$ref': '#/components/schemas/ReportGenerateRequest'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['id', 'name', 'config', 'created_at'],
    title: 'SavedReportTemplate',
    description: 'A saved report configuration template.'
} as const;

export const SavedReportTemplateCreateSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Name'
        },
        config: {
            '$ref': '#/components/schemas/ReportGenerateRequest'
        }
    },
    type: 'object',
    required: ['name', 'config'],
    title: 'SavedReportTemplateCreate',
    description: 'Request to save a report configuration as a template.'
} as const;

export const SchoolBenchmarkSummarySchema = {
    properties: {
        school_id: {
            type: 'string',
            title: 'School Id'
        },
        school_name: {
            type: 'string',
            title: 'School Name'
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled'
        },
        class_count: {
            type: 'integer',
            title: 'Class Count'
        },
        average_score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Average Score'
        },
        performance_status: {
            anyOf: [
                {
                    type: 'string',
                    enum: ['above_average', 'average', 'below_average']
                },
                {
                    type: 'null'
                }
            ],
            title: 'Performance Status'
        }
    },
    type: 'object',
    required: ['school_id', 'school_name', 'benchmarking_enabled', 'class_count'],
    title: 'SchoolBenchmarkSummary',
    description: `Summary of a school's benchmark status for admin view.

[Source: Story 5.7 AC: 12]`
} as const;

export const SchoolCreateSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        address: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Address'
        },
        contact_info: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Info'
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled',
            description: 'Enable performance benchmarking for this school',
            default: true
        },
        dcs_publisher_id: {
            type: 'integer',
            title: 'Dcs Publisher Id'
        }
    },
    type: 'object',
    required: ['name', 'dcs_publisher_id'],
    title: 'SchoolCreate',
    description: 'Properties to receive via API on School creation'
} as const;

export const SchoolCreateByPublisherSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        address: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Address'
        },
        contact_info: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Info'
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled',
            description: 'Enable performance benchmarking for this school',
            default: true
        }
    },
    type: 'object',
    required: ['name'],
    title: 'SchoolCreateByPublisher',
    description: 'Properties to receive via API on School creation by Publisher (publisher_id set automatically)'
} as const;

export const SchoolPublicSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            title: 'Name'
        },
        address: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Address'
        },
        contact_info: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Info'
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled',
            description: 'Enable performance benchmarking for this school',
            default: true
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        dcs_publisher_id: {
            type: 'integer',
            title: 'Dcs Publisher Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['name', 'id', 'dcs_publisher_id', 'created_at', 'updated_at'],
    title: 'SchoolPublic',
    description: 'Properties to return via API'
} as const;

export const SchoolUpdateSchema = {
    properties: {
        name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Name'
        },
        address: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Address'
        },
        contact_info: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Info'
        },
        dcs_publisher_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Id'
        },
        benchmarking_enabled: {
            anyOf: [
                {
                    type: 'boolean'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Benchmarking Enabled'
        }
    },
    type: 'object',
    title: 'SchoolUpdate',
    description: 'Properties to receive via API on School update'
} as const;

export const SchoolWithCountsSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        address: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Address'
        },
        contact_info: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Contact Info'
        },
        benchmarking_enabled: {
            type: 'boolean',
            title: 'Benchmarking Enabled',
            default: false
        },
        dcs_publisher_id: {
            type: 'integer',
            title: 'Dcs Publisher Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        teacher_count: {
            type: 'integer',
            title: 'Teacher Count',
            default: 0
        },
        student_count: {
            type: 'integer',
            title: 'Student Count',
            default: 0
        },
        book_count: {
            type: 'integer',
            title: 'Book Count',
            default: 0
        }
    },
    type: 'object',
    required: ['id', 'name', 'dcs_publisher_id', 'created_at', 'updated_at'],
    title: 'SchoolWithCounts',
    description: 'School response with aggregated counts for publisher views.'
} as const;

export const ScoreDistributionBucketSchema = {
    properties: {
        range_label: {
            type: 'string',
            title: 'Range Label'
        },
        min_score: {
            type: 'integer',
            title: 'Min Score'
        },
        max_score: {
            type: 'integer',
            title: 'Max Score'
        },
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['range_label', 'min_score', 'max_score', 'count'],
    title: 'ScoreDistributionBucket',
    description: 'Single bucket in score distribution histogram.'
} as const;

export const ScoreStatisticsSchema = {
    properties: {
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        median_score: {
            type: 'number',
            title: 'Median Score'
        },
        highest_score: {
            type: 'integer',
            title: 'Highest Score'
        },
        lowest_score: {
            type: 'integer',
            title: 'Lowest Score'
        }
    },
    type: 'object',
    required: ['avg_score', 'median_score', 'highest_score', 'lowest_score'],
    title: 'ScoreStatistics',
    description: 'Score statistics for an assignment.'
} as const;

export const ScoreTrendPointSchema = {
    properties: {
        date: {
            type: 'string',
            title: 'Date'
        },
        score: {
            type: 'integer',
            title: 'Score'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        }
    },
    type: 'object',
    required: ['date', 'score', 'assignment_name'],
    title: 'ScoreTrendPoint',
    description: 'Data point for score trend chart.'
} as const;

export const SelectAvatarRequestSchema = {
    properties: {
        avatar_id: {
            type: 'string',
            title: 'Avatar Id'
        }
    },
    type: 'object',
    required: ['avatar_id'],
    title: 'SelectAvatarRequest',
    description: 'Request to select a predefined avatar.'
} as const;

export const SentenceBuilderActivitySchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        sentences: {
            items: {
                '$ref': '#/components/schemas/SentenceBuilderItem'
            },
            type: 'array',
            title: 'Sentences'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        include_audio: {
            type: 'boolean',
            title: 'Include Audio'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['activity_id', 'book_id', 'module_ids', 'sentences', 'difficulty', 'include_audio', 'created_at'],
    title: 'SentenceBuilderActivity',
    description: `A complete sentence builder activity.

This is the full activity representation stored internally,
including the correct sentences.

Attributes:
    activity_id: Unique identifier for the activity.
    book_id: ID of the book the activity is generated from.
    module_ids: List of module IDs used for the activity.
    sentences: List of sentence items with correct answers.
    difficulty: Difficulty level of the activity.
    include_audio: Whether audio is included.
    created_at: When the activity was generated.`
} as const;

export const SentenceBuilderActivityPublicSchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        sentences: {
            items: {
                '$ref': '#/components/schemas/SentenceBuilderItemPublic'
            },
            type: 'array',
            title: 'Sentences'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        },
        include_audio: {
            type: 'boolean',
            title: 'Include Audio'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        sentence_count: {
            type: 'integer',
            title: 'Sentence Count'
        }
    },
    type: 'object',
    required: ['activity_id', 'book_id', 'module_ids', 'sentences', 'difficulty', 'include_audio', 'created_at', 'sentence_count'],
    title: 'SentenceBuilderActivityPublic',
    description: `Public version of activity without correct sentence strings.

Returned to students when they access an activity for taking.
The correct_sentence field is omitted from items.

Attributes:
    activity_id: Unique identifier for the activity.
    book_id: ID of the book the activity is generated from.
    module_ids: List of module IDs used for the activity.
    sentences: List of sentence items (words only, no correct sentence).
    difficulty: Difficulty level of the activity.
    include_audio: Whether audio is included.
    created_at: When the activity was generated.
    sentence_count: Total number of sentences.`
} as const;

export const SentenceBuilderItemSchema = {
    properties: {
        item_id: {
            type: 'string',
            title: 'Item Id'
        },
        correct_sentence: {
            type: 'string',
            title: 'Correct Sentence'
        },
        words: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Words'
        },
        word_count: {
            type: 'integer',
            title: 'Word Count'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        },
        source_module_id: {
            type: 'integer',
            title: 'Source Module Id'
        },
        source_page: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Source Page'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        }
    },
    type: 'object',
    required: ['item_id', 'correct_sentence', 'words', 'word_count', 'source_module_id', 'difficulty'],
    title: 'SentenceBuilderItem',
    description: `A single sentence item in the activity.

Contains the correct sentence and shuffled word bank.

Attributes:
    item_id: Unique identifier for this sentence.
    correct_sentence: The correct sentence as a string.
    words: Shuffled word bank for the student to arrange.
    word_count: Number of words in the sentence.
    audio_url: TTS audio URL for the correct sentence.
    source_module_id: ID of the module this sentence came from.
    source_page: Page number in the module (if available).
    difficulty: Difficulty level of this sentence.`
} as const;

export const SentenceBuilderItemPublicSchema = {
    properties: {
        item_id: {
            type: 'string',
            title: 'Item Id'
        },
        words: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Words'
        },
        word_count: {
            type: 'integer',
            title: 'Word Count'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        }
    },
    type: 'object',
    required: ['item_id', 'words', 'word_count', 'difficulty'],
    title: 'SentenceBuilderItemPublic',
    description: `Public version of a sentence item without the correct answer.

Attributes:
    item_id: Unique identifier for this sentence.
    words: Shuffled word bank for the student to arrange.
    word_count: Number of words in the sentence.
    difficulty: Difficulty level of this sentence.`
} as const;

export const SentenceBuilderRequestSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            anyOf: [
                {
                    items: {
                        type: 'integer'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Module Ids',
            description: 'Specific modules to use. If None, uses all modules.'
        },
        sentence_count: {
            type: 'integer',
            maximum: 50,
            minimum: 1,
            title: 'Sentence Count',
            description: 'Number of sentences (1-50).',
            default: 10
        },
        difficulty: {
            type: 'string',
            enum: ['easy', 'medium', 'hard'],
            title: 'Difficulty',
            description: 'Difficulty: easy (4-6 words), medium (7-10 words), hard (11+ words).',
            default: 'medium'
        },
        include_audio: {
            type: 'boolean',
            title: 'Include Audio',
            description: 'Whether to include TTS audio for correct sentences.',
            default: true
        }
    },
    type: 'object',
    required: ['book_id'],
    title: 'SentenceBuilderRequest',
    description: `Request to generate a sentence builder activity.

Attributes:
    book_id: ID of the book to extract sentences from.
    module_ids: Optional list of specific module IDs. If None, uses all modules.
    sentence_count: Number of sentences in the activity (1-10).
    difficulty: Difficulty level based on sentence length.
    include_audio: Whether to include audio for correct sentences.`
} as const;

export const SentenceBuilderResultSchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        score: {
            type: 'integer',
            minimum: 0,
            title: 'Score'
        },
        total: {
            type: 'integer',
            minimum: 1,
            title: 'Total'
        },
        percentage: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Percentage'
        },
        sentence_results: {
            items: {
                '$ref': '#/components/schemas/SentenceResult'
            },
            type: 'array',
            title: 'Sentence Results'
        },
        submitted_at: {
            type: 'string',
            format: 'date-time',
            title: 'Submitted At'
        },
        difficulty: {
            type: 'string',
            title: 'Difficulty'
        }
    },
    type: 'object',
    required: ['activity_id', 'student_id', 'score', 'total', 'percentage', 'sentence_results', 'submitted_at', 'difficulty'],
    title: 'SentenceBuilderResult',
    description: `Complete results of a submitted sentence builder activity.

Returned after a student submits their answers, revealing
the correct sentences and calculating the score.

Attributes:
    activity_id: ID of the activity.
    student_id: ID of the student who submitted.
    score: Number of correct sentences.
    total: Total number of sentences.
    percentage: Score as a percentage (0-100).
    sentence_results: Detailed results for each sentence.
    submitted_at: When the activity was submitted.
    difficulty: Difficulty level of the activity.`
} as const;

export const SentenceBuilderSubmissionSchema = {
    properties: {
        answers: {
            additionalProperties: {
                items: {
                    type: 'string'
                },
                type: 'array'
            },
            type: 'object',
            title: 'Answers',
            description: 'Map of item_id to ordered list of words.'
        }
    },
    type: 'object',
    required: ['answers'],
    title: 'SentenceBuilderSubmission',
    description: `Student's submission of sentence answers.

Maps sentence item IDs to the student's word ordering.

Attributes:
    answers: Dictionary mapping item_id to ordered list of words.`
} as const;

export const SentenceResultSchema = {
    properties: {
        item_id: {
            type: 'string',
            title: 'Item Id'
        },
        submitted_words: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Submitted Words'
        },
        correct_sentence: {
            type: 'string',
            title: 'Correct Sentence'
        },
        is_correct: {
            type: 'boolean',
            title: 'Is Correct'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        }
    },
    type: 'object',
    required: ['item_id', 'submitted_words', 'correct_sentence', 'is_correct'],
    title: 'SentenceResult',
    description: `Result for a single sentence after submission.

Attributes:
    item_id: ID of the sentence item.
    submitted_words: The student's submitted word order.
    correct_sentence: The correct sentence.
    is_correct: Whether the submission was correct.
    audio_url: Audio URL for the correct sentence (if available).`
} as const;

export const SetStudentPasswordRequestSchema = {
    properties: {
        password: {
            type: 'string',
            maxLength: 50,
            minLength: 1,
            title: 'Password'
        }
    },
    type: 'object',
    required: ['password'],
    title: 'SetStudentPasswordRequest',
    description: "Request body for setting a student's password"
} as const;

export const StatusSummarySchema = {
    properties: {
        not_started: {
            type: 'integer',
            title: 'Not Started'
        },
        in_progress: {
            type: 'integer',
            title: 'In Progress'
        },
        completed: {
            type: 'integer',
            title: 'Completed'
        },
        past_due: {
            type: 'integer',
            title: 'Past Due'
        }
    },
    type: 'object',
    required: ['not_started', 'in_progress', 'completed', 'past_due'],
    title: 'StatusSummary',
    description: 'Counts of assignments by status.'
} as const;

export const StorageQuotaResponseSchema = {
    properties: {
        used_bytes: {
            type: 'integer',
            title: 'Used Bytes'
        },
        quota_bytes: {
            type: 'integer',
            title: 'Quota Bytes'
        },
        used_percentage: {
            type: 'number',
            title: 'Used Percentage'
        },
        is_warning: {
            type: 'boolean',
            title: 'Is Warning'
        },
        is_full: {
            type: 'boolean',
            title: 'Is Full'
        }
    },
    type: 'object',
    required: ['used_bytes', 'quota_bytes', 'used_percentage', 'is_warning', 'is_full'],
    title: 'StorageQuotaResponse',
    description: 'Storage quota information.'
} as const;

export const StrugglingStudentItemSchema = {
    properties: {
        student_id: {
            type: 'string',
            title: 'Student Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        past_due_count: {
            type: 'integer',
            title: 'Past Due Count'
        },
        alert_reason: {
            type: 'string',
            title: 'Alert Reason'
        }
    },
    type: 'object',
    required: ['student_id', 'name', 'avg_score', 'past_due_count', 'alert_reason'],
    title: 'StrugglingStudentItem',
    description: 'Student flagged as struggling.'
} as const;

export const StudentActivityScoreSchema = {
    properties: {
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        student_name: {
            type: 'string',
            title: 'Student Name'
        },
        status: {
            type: 'string',
            title: 'Status'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        max_score: {
            type: 'number',
            title: 'Max Score'
        },
        time_spent_seconds: {
            type: 'integer',
            title: 'Time Spent Seconds'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        }
    },
    type: 'object',
    required: ['student_id', 'student_name', 'status', 'score', 'max_score', 'time_spent_seconds', 'completed_at'],
    title: 'StudentActivityScore',
    description: 'Per-student score for a specific activity (used in expanded analytics view).'
} as const;

export const StudentAnalyticsResponseSchema = {
    properties: {
        student: {
            '$ref': '#/components/schemas/StudentInfo'
        },
        summary: {
            '$ref': '#/components/schemas/AnalyticsSummary'
        },
        recent_activity: {
            items: {
                '$ref': '#/components/schemas/RecentActivityItem'
            },
            type: 'array',
            title: 'Recent Activity'
        },
        performance_trend: {
            items: {
                '$ref': '#/components/schemas/PerformanceTrendPoint'
            },
            type: 'array',
            title: 'Performance Trend'
        },
        activity_breakdown: {
            items: {
                '$ref': '#/components/schemas/ActivityBreakdownItem'
            },
            type: 'array',
            title: 'Activity Breakdown'
        },
        status_summary: {
            '$ref': '#/components/schemas/StatusSummary'
        },
        time_analytics: {
            '$ref': '#/components/schemas/TimeAnalytics'
        }
    },
    type: 'object',
    required: ['student', 'summary', 'recent_activity', 'performance_trend', 'activity_breakdown', 'status_summary', 'time_analytics'],
    title: 'StudentAnalyticsResponse',
    description: 'Complete student analytics data response.'
} as const;

export const StudentAnnouncementListResponseSchema = {
    properties: {
        announcements: {
            items: {
                '$ref': '#/components/schemas/StudentAnnouncementPublic'
            },
            type: 'array',
            title: 'Announcements'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        unread_count: {
            type: 'integer',
            title: 'Unread Count'
        },
        limit: {
            type: 'integer',
            title: 'Limit'
        },
        offset: {
            type: 'integer',
            title: 'Offset'
        }
    },
    type: 'object',
    required: ['announcements', 'total', 'unread_count', 'limit', 'offset'],
    title: 'StudentAnnouncementListResponse',
    description: 'Schema for student announcement list with pagination and read counts.'
} as const;

export const StudentAnnouncementPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        teacher_name: {
            type: 'string',
            title: 'Teacher Name'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        content: {
            type: 'string',
            title: 'Content'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        is_read: {
            type: 'boolean',
            title: 'Is Read'
        },
        read_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Read At'
        }
    },
    type: 'object',
    required: ['id', 'teacher_id', 'teacher_name', 'title', 'content', 'created_at', 'is_read'],
    title: 'StudentAnnouncementPublic',
    description: 'Schema for student announcement view with read status.'
} as const;

export const StudentAnswersResponseSchema = {
    properties: {
        student_id: {
            type: 'string',
            title: 'Student Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        status: {
            type: 'string',
            title: 'Status'
        },
        score: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        time_spent_seconds: {
            type: 'integer',
            title: 'Time Spent Seconds'
        },
        started_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Started At'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        },
        answers_json: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Answers Json'
        },
        activity_type: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Activity Type'
        },
        config_json: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Config Json'
        }
    },
    type: 'object',
    required: ['student_id', 'name', 'status', 'score', 'time_spent_minutes', 'time_spent_seconds', 'started_at', 'completed_at', 'answers_json'],
    title: 'StudentAnswersResponse',
    description: "Individual student's full answers for an assignment."
} as const;

export const StudentAssignmentResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        instructions: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Instructions'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        time_limit_minutes: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Time Limit Minutes'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        activity_id: {
            type: 'string',
            format: 'uuid',
            title: 'Activity Id'
        },
        activity_title: {
            type: 'string',
            title: 'Activity Title'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        status: {
            type: 'string',
            title: 'Status'
        },
        score: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        started_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Started At'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count',
            default: 1
        },
        is_past_due: {
            type: 'boolean',
            title: 'Is Past Due',
            description: 'Calculate if assignment is past due.',
            readOnly: true
        },
        days_until_due: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Days Until Due',
            description: 'Calculate days until due date.',
            readOnly: true
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'instructions', 'due_date', 'time_limit_minutes', 'created_at', 'book_id', 'book_title', 'book_cover_url', 'activity_id', 'activity_title', 'activity_type', 'status', 'score', 'started_at', 'completed_at', 'time_spent_minutes', 'is_past_due', 'days_until_due'],
    title: 'StudentAssignmentResponse',
    description: 'Student-facing assignment response with enriched data.'
} as const;

export const StudentAssignmentResultResponseSchema = {
    properties: {
        assignment_id: {
            type: 'string',
            format: 'uuid',
            title: 'Assignment Id'
        },
        assignment_name: {
            type: 'string',
            title: 'Assignment Name'
        },
        total_score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Total Score'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        },
        activity_scores: {
            items: {
                '$ref': '#/components/schemas/ActivityScoreItem'
            },
            type: 'array',
            title: 'Activity Scores'
        },
        total_activities: {
            type: 'integer',
            title: 'Total Activities'
        },
        completed_activities: {
            type: 'integer',
            title: 'Completed Activities'
        }
    },
    type: 'object',
    required: ['assignment_id', 'assignment_name', 'total_score', 'completed_at', 'activity_scores', 'total_activities', 'completed_activities'],
    title: 'StudentAssignmentResultResponse',
    description: 'Response schema for student viewing their completed assignment results.'
} as const;

export const StudentBadgeCountsResponseSchema = {
    properties: {
        badge_counts: {
            additionalProperties: {
                type: 'integer'
            },
            type: 'object',
            title: 'Badge Counts'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        this_month: {
            additionalProperties: {
                type: 'integer'
            },
            type: 'object',
            title: 'This Month'
        },
        this_month_total: {
            type: 'integer',
            title: 'This Month Total'
        }
    },
    type: 'object',
    required: ['badge_counts', 'total', 'this_month', 'this_month_total'],
    title: 'StudentBadgeCountsResponse',
    description: 'Response schema for student badge counts (Story 6.5, AC: 9, 14).'
} as const;

export const StudentCalendarAssignmentItemSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        due_date: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Due Date'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        book_title: {
            type: 'string',
            title: 'Book Title'
        },
        book_cover_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Cover Url'
        },
        activity_count: {
            type: 'integer',
            title: 'Activity Count'
        },
        status: {
            type: 'string',
            title: 'Status'
        }
    },
    type: 'object',
    required: ['id', 'name', 'due_date', 'book_id', 'book_title', 'book_cover_url', 'activity_count', 'status'],
    title: 'StudentCalendarAssignmentItem',
    description: 'Assignment item for student calendar view.'
} as const;

export const StudentCalendarAssignmentsResponseSchema = {
    properties: {
        start_date: {
            type: 'string',
            title: 'Start Date'
        },
        end_date: {
            type: 'string',
            title: 'End Date'
        },
        total_assignments: {
            type: 'integer',
            title: 'Total Assignments'
        },
        assignments_by_date: {
            additionalProperties: {
                items: {
                    '$ref': '#/components/schemas/StudentCalendarAssignmentItem'
                },
                type: 'array'
            },
            type: 'object',
            title: 'Assignments By Date'
        }
    },
    type: 'object',
    required: ['start_date', 'end_date', 'total_assignments', 'assignments_by_date'],
    title: 'StudentCalendarAssignmentsResponse',
    description: 'Response schema for student calendar assignments endpoint.'
} as const;

export const StudentCreateAPISchema = {
    properties: {
        username: {
            type: 'string',
            maxLength: 50,
            minLength: 3,
            title: 'Username'
        },
        user_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Email'
        },
        full_name: {
            type: 'string',
            maxLength: 255,
            title: 'Full Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        parent_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Parent Email'
        },
        password: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Password'
        }
    },
    type: 'object',
    required: ['username', 'full_name'],
    title: 'StudentCreateAPI',
    description: 'Properties for API endpoint student creation (includes user creation)'
} as const;

export const StudentInClassSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        email: {
            type: 'string',
            title: 'Email'
        },
        full_name: {
            type: 'string',
            title: 'Full Name'
        },
        grade: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade'
        }
    },
    type: 'object',
    required: ['id', 'email', 'full_name'],
    title: 'StudentInClass',
    description: 'Student info for class detail response'
} as const;

export const StudentInfoSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        photo_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Photo Url'
        }
    },
    type: 'object',
    required: ['id', 'name'],
    title: 'StudentInfo',
    description: 'Basic student information for analytics display.'
} as const;

export const StudentLeaderboardItemSchema = {
    properties: {
        student_id: {
            type: 'string',
            title: 'Student Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        rank: {
            type: 'integer',
            title: 'Rank'
        }
    },
    type: 'object',
    required: ['student_id', 'name', 'avg_score', 'rank'],
    title: 'StudentLeaderboardItem',
    description: 'Student entry in leaderboard.'
} as const;

export const StudentPasswordResponseSchema = {
    properties: {
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        username: {
            type: 'string',
            title: 'Username'
        },
        full_name: {
            type: 'string',
            title: 'Full Name'
        },
        password: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Password'
        },
        message: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Message'
        }
    },
    type: 'object',
    required: ['student_id', 'username', 'full_name'],
    title: 'StudentPasswordResponse',
    description: 'Response for viewing/setting student password'
} as const;

export const StudentProgressResponseSchema = {
    properties: {
        stats: {
            '$ref': '#/components/schemas/StudentProgressStats'
        },
        score_trend: {
            items: {
                '$ref': '#/components/schemas/ScoreTrendPoint'
            },
            type: 'array',
            title: 'Score Trend'
        },
        activity_breakdown: {
            items: {
                '$ref': '#/components/schemas/ActivityTypeScore'
            },
            type: 'array',
            title: 'Activity Breakdown'
        },
        recent_assignments: {
            items: {
                '$ref': '#/components/schemas/ProgressRecentAssignment'
            },
            type: 'array',
            title: 'Recent Assignments'
        },
        achievements: {
            items: {
                '$ref': '#/components/schemas/Achievement'
            },
            type: 'array',
            title: 'Achievements'
        },
        study_time: {
            '$ref': '#/components/schemas/StudyTimeStats'
        },
        improvement_tips: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Improvement Tips'
        }
    },
    type: 'object',
    required: ['stats', 'score_trend', 'activity_breakdown', 'recent_assignments', 'achievements', 'study_time', 'improvement_tips'],
    title: 'StudentProgressResponse',
    description: 'Complete student progress response.'
} as const;

export const StudentProgressStatsSchema = {
    properties: {
        total_completed: {
            type: 'integer',
            title: 'Total Completed'
        },
        avg_score: {
            type: 'number',
            title: 'Avg Score'
        },
        current_streak: {
            type: 'integer',
            title: 'Current Streak'
        },
        streak_start_date: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Streak Start Date'
        },
        improvement_trend: {
            '$ref': '#/components/schemas/ImprovementTrend'
        }
    },
    type: 'object',
    required: ['total_completed', 'avg_score', 'current_streak', 'streak_start_date', 'improvement_trend'],
    title: 'StudentProgressStats',
    description: 'Overall student progress statistics.'
} as const;

export const StudentPublicSchema = {
    properties: {
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        parent_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Parent Email'
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        user_id: {
            type: 'string',
            format: 'uuid',
            title: 'User Id'
        },
        user_email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Email'
        },
        user_username: {
            type: 'string',
            title: 'User Username'
        },
        user_full_name: {
            type: 'string',
            title: 'User Full Name'
        },
        created_by_teacher_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Created By Teacher Id'
        },
        created_by_teacher_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Created By Teacher Name'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['id', 'user_id', 'user_username', 'user_full_name', 'created_at', 'updated_at'],
    title: 'StudentPublic',
    description: 'Properties to return via API'
} as const;

export const StudentResultItemSchema = {
    properties: {
        student_id: {
            type: 'string',
            title: 'Student Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        status: {
            type: 'string',
            title: 'Status'
        },
        score: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        time_spent_minutes: {
            type: 'integer',
            title: 'Time Spent Minutes'
        },
        time_spent_seconds: {
            type: 'integer',
            title: 'Time Spent Seconds'
        },
        started_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Started At'
        },
        completed_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Completed At'
        },
        has_feedback: {
            type: 'boolean',
            title: 'Has Feedback',
            default: false
        }
    },
    type: 'object',
    required: ['student_id', 'name', 'status', 'score', 'time_spent_minutes', 'time_spent_seconds', 'started_at', 'completed_at'],
    title: 'StudentResultItem',
    description: "Individual student's result for an assignment."
} as const;

export const StudentUpdateSchema = {
    properties: {
        user_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Email'
        },
        user_username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Username'
        },
        user_full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Full Name'
        },
        grade_level: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50
                },
                {
                    type: 'null'
                }
            ],
            title: 'Grade Level'
        },
        parent_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Parent Email'
        }
    },
    type: 'object',
    title: 'StudentUpdate',
    description: 'Properties to receive via API on Student update'
} as const;

export const StudentsForClassesRequestSchema = {
    properties: {
        class_ids: {
            items: {
                type: 'string',
                format: 'uuid'
            },
            type: 'array',
            title: 'Class Ids'
        }
    },
    type: 'object',
    required: ['class_ids'],
    title: 'StudentsForClassesRequest',
    description: 'Request body for fetching students for multiple classes.'
} as const;

export const StudyTimeStatsSchema = {
    properties: {
        this_week_minutes: {
            type: 'integer',
            title: 'This Week Minutes'
        },
        this_month_minutes: {
            type: 'integer',
            title: 'This Month Minutes'
        },
        avg_per_assignment: {
            type: 'number',
            title: 'Avg Per Assignment'
        }
    },
    type: 'object',
    required: ['this_week_minutes', 'this_month_minutes', 'avg_per_assignment'],
    title: 'StudyTimeStats',
    description: 'Study time statistics.'
} as const;

export const SubmitActivityStateSchema = {
    properties: {
        activity_index: {
            type: 'integer',
            title: 'Activity Index'
        },
        score: {
            anyOf: [
                {
                    type: 'number'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Score'
        },
        answers_json: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Answers Json'
        },
        status: {
            type: 'string',
            title: 'Status',
            default: 'completed'
        }
    },
    type: 'object',
    required: ['activity_index'],
    title: 'SubmitActivityState',
    description: 'Activity state data sent during multi-activity submission.'
} as const;

export const SupervisorCreateAPISchema = {
    properties: {
        username: {
            type: 'string',
            maxLength: 50,
            minLength: 3,
            title: 'Username'
        },
        user_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Email'
        },
        full_name: {
            type: 'string',
            maxLength: 255,
            title: 'Full Name'
        }
    },
    type: 'object',
    required: ['username', 'full_name'],
    title: 'SupervisorCreateAPI',
    description: 'Properties for API endpoint supervisor creation'
} as const;

export const SupervisorCreateResponseSchema = {
    properties: {
        user: {
            '$ref': '#/components/schemas/UserPublic'
        },
        temporary_password: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Temporary Password'
        },
        password_emailed: {
            type: 'boolean',
            title: 'Password Emailed',
            default: false
        },
        message: {
            type: 'string',
            title: 'Message',
            default: ''
        }
    },
    type: 'object',
    required: ['user'],
    title: 'SupervisorCreateResponse',
    description: 'Response schema for supervisor creation'
} as const;

export const SupervisorPublicSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        full_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        email: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        username: {
            type: 'string',
            title: 'Username'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active'
        },
        created_at: {
            anyOf: [
                {
                    type: 'string',
                    format: 'date-time'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Created At'
        },
        must_change_password: {
            type: 'boolean',
            title: 'Must Change Password'
        }
    },
    type: 'object',
    required: ['id', 'full_name', 'email', 'username', 'is_active', 'created_at', 'must_change_password'],
    title: 'SupervisorPublic',
    description: 'Public supervisor response schema'
} as const;

export const SupervisorUpdateSchema = {
    properties: {
        full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'Username'
        },
        is_active: {
            anyOf: [
                {
                    type: 'boolean'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Is Active'
        }
    },
    type: 'object',
    title: 'SupervisorUpdate',
    description: 'Properties for updating a supervisor'
} as const;

export const TeacherCreateAPISchema = {
    properties: {
        username: {
            type: 'string',
            maxLength: 50,
            minLength: 3,
            title: 'Username'
        },
        user_email: {
            type: 'string',
            maxLength: 255,
            format: 'email',
            title: 'User Email'
        },
        full_name: {
            type: 'string',
            maxLength: 255,
            title: 'Full Name'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        subject_specialization: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject Specialization'
        }
    },
    type: 'object',
    required: ['username', 'user_email', 'full_name', 'school_id'],
    title: 'TeacherCreateAPI',
    description: 'Properties for API endpoint teacher creation (includes user creation)'
} as const;

export const TeacherGeneratedContentListResponseSchema = {
    properties: {
        items: {
            items: {
                '$ref': '#/components/schemas/TeacherGeneratedContentResponse'
            },
            type: 'array',
            title: 'Items'
        },
        total_count: {
            type: 'integer',
            title: 'Total Count'
        }
    },
    type: 'object',
    required: ['items', 'total_count'],
    title: 'TeacherGeneratedContentListResponse',
    description: 'List of generated content.'
} as const;

export const TeacherGeneratedContentResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        material_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Material Id'
        },
        book_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Id'
        },
        activity_type: {
            type: 'string',
            title: 'Activity Type'
        },
        title: {
            type: 'string',
            title: 'Title'
        },
        content: {
            additionalProperties: true,
            type: 'object',
            title: 'Content'
        },
        is_used: {
            type: 'boolean',
            title: 'Is Used'
        },
        assignment_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Assignment Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        material_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Material Name'
        },
        book_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Book Name'
        }
    },
    type: 'object',
    required: ['id', 'teacher_id', 'activity_type', 'title', 'content', 'is_used', 'created_at'],
    title: 'TeacherGeneratedContentResponse',
    description: "Response for teacher's generated AI content."
} as const;

export const TeacherMaterialListResponseSchema = {
    properties: {
        materials: {
            items: {
                '$ref': '#/components/schemas/TeacherMaterialResponse'
            },
            type: 'array',
            title: 'Materials'
        },
        total_count: {
            type: 'integer',
            title: 'Total Count'
        }
    },
    type: 'object',
    required: ['materials', 'total_count'],
    title: 'TeacherMaterialListResponse',
    description: 'List of teacher materials.'
} as const;

export const TeacherMaterialResourceSchema = {
    properties: {
        type: {
            type: 'string',
            const: 'teacher_material',
            title: 'Type',
            default: 'teacher_material'
        },
        material_id: {
            type: 'string',
            format: 'uuid',
            title: 'Material Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        material_type: {
            type: 'string',
            title: 'Material Type'
        }
    },
    type: 'object',
    required: ['material_id', 'name', 'material_type'],
    title: 'TeacherMaterialResource',
    description: `Schema for a teacher-uploaded material attached to an assignment.

Story 13.3: Teacher Materials Assignment Integration.
Stores denormalized name/type for display even if material is deleted.`
} as const;

export const TeacherMaterialResourceResponseSchema = {
    properties: {
        type: {
            type: 'string',
            const: 'teacher_material',
            title: 'Type',
            default: 'teacher_material'
        },
        material_id: {
            type: 'string',
            format: 'uuid',
            title: 'Material Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        material_type: {
            type: 'string',
            title: 'Material Type'
        },
        is_available: {
            type: 'boolean',
            title: 'Is Available',
            default: true
        },
        file_size: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'File Size'
        },
        mime_type: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Mime Type'
        },
        url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Url'
        },
        text_content: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Text Content'
        },
        download_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Download Url'
        }
    },
    type: 'object',
    required: ['material_id', 'name', 'material_type'],
    title: 'TeacherMaterialResourceResponse',
    description: `Response schema with availability status and enriched data.

Used when returning assignment resources to include current material state.`
} as const;

export const TeacherMaterialResponseSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        teacher_id: {
            type: 'string',
            format: 'uuid',
            title: 'Teacher Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        description: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Description'
        },
        type: {
            '$ref': '#/components/schemas/MaterialType'
        },
        source_type: {
            type: 'string',
            enum: ['pdf', 'text', 'other'],
            title: 'Source Type'
        },
        original_filename: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Original Filename'
        },
        file_size: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'File Size'
        },
        mime_type: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Mime Type'
        },
        extracted_text: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Extracted Text'
        },
        word_count: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Word Count'
        },
        language: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Language'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        download_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Download Url'
        },
        is_processable: {
            type: 'boolean',
            title: 'Is Processable',
            default: false
        }
    },
    type: 'object',
    required: ['id', 'teacher_id', 'name', 'type', 'source_type', 'created_at', 'updated_at'],
    title: 'TeacherMaterialResponse',
    description: 'Teacher material response with AI processing fields.'
} as const;

export const TeacherMaterialUploadResponseSchema = {
    properties: {
        material: {
            '$ref': '#/components/schemas/TeacherMaterialResponse'
        },
        extraction: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/TextExtractionResult'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['material'],
    title: 'TeacherMaterialUploadResponse',
    description: 'Response after material upload with text extraction.'
} as const;

export const TeacherPublicSchema = {
    properties: {
        subject_specialization: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject Specialization'
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        user_id: {
            type: 'string',
            format: 'uuid',
            title: 'User Id'
        },
        user_email: {
            type: 'string',
            title: 'User Email'
        },
        user_username: {
            type: 'string',
            title: 'User Username'
        },
        user_full_name: {
            type: 'string',
            title: 'User Full Name'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['id', 'user_id', 'user_email', 'user_username', 'user_full_name', 'school_id', 'created_at', 'updated_at'],
    title: 'TeacherPublic',
    description: 'Properties to return via API'
} as const;

export const TeacherUpdateSchema = {
    properties: {
        school_id: {
            anyOf: [
                {
                    type: 'string',
                    format: 'uuid'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Id'
        },
        subject_specialization: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject Specialization'
        },
        user_email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Email'
        },
        user_username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Username'
        },
        user_full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'User Full Name'
        }
    },
    type: 'object',
    title: 'TeacherUpdate',
    description: 'Properties to receive via API on Teacher update'
} as const;

export const TeacherWithCountsSchema = {
    properties: {
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        user_id: {
            type: 'string',
            format: 'uuid',
            title: 'User Id'
        },
        user_email: {
            type: 'string',
            title: 'User Email'
        },
        user_username: {
            type: 'string',
            title: 'User Username'
        },
        user_full_name: {
            type: 'string',
            title: 'User Full Name'
        },
        school_id: {
            type: 'string',
            format: 'uuid',
            title: 'School Id'
        },
        school_name: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'School Name'
        },
        subject_specialization: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Subject Specialization'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        },
        books_assigned: {
            type: 'integer',
            title: 'Books Assigned',
            default: 0
        },
        classroom_count: {
            type: 'integer',
            title: 'Classroom Count',
            default: 0
        }
    },
    type: 'object',
    required: ['id', 'user_id', 'user_email', 'user_username', 'user_full_name', 'school_id', 'created_at', 'updated_at'],
    title: 'TeacherWithCounts',
    description: 'Teacher response with aggregated counts and school name for publisher views.'
} as const;

export const TextExtractionResultSchema = {
    properties: {
        extracted_text: {
            type: 'string',
            title: 'Extracted Text'
        },
        word_count: {
            type: 'integer',
            title: 'Word Count'
        },
        language: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Language'
        },
        source_type: {
            type: 'string',
            enum: ['pdf', 'text'],
            title: 'Source Type',
            default: 'text'
        }
    },
    type: 'object',
    required: ['extracted_text', 'word_count'],
    title: 'TextExtractionResult',
    description: 'Result of text extraction from uploaded material.'
} as const;

export const TextMaterialCreateSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Name'
        },
        description: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 1000
                },
                {
                    type: 'null'
                }
            ],
            title: 'Description'
        },
        text: {
            type: 'string',
            maxLength: 100000,
            minLength: 1,
            title: 'Text'
        }
    },
    type: 'object',
    required: ['name', 'text'],
    title: 'TextMaterialCreate',
    description: 'Create material from pasted text.'
} as const;

export const TextNoteCreateSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Name'
        },
        content: {
            type: 'string',
            maxLength: 51200,
            minLength: 1,
            title: 'Content'
        }
    },
    type: 'object',
    required: ['name', 'content'],
    title: 'TextNoteCreate',
    description: 'Create a text note.'
} as const;

export const TextNoteUpdateSchema = {
    properties: {
        name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Name'
        },
        content: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 51200,
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Content'
        }
    },
    type: 'object',
    title: 'TextNoteUpdate',
    description: 'Update a text note.'
} as const;

export const TimeAnalyticsSchema = {
    properties: {
        avg_time_per_assignment: {
            type: 'number',
            title: 'Avg Time Per Assignment'
        },
        total_time_this_week: {
            type: 'integer',
            title: 'Total Time This Week'
        },
        total_time_this_month: {
            type: 'integer',
            title: 'Total Time This Month'
        }
    },
    type: 'object',
    required: ['avg_time_per_assignment', 'total_time_this_week', 'total_time_this_month'],
    title: 'TimeAnalytics',
    description: 'Time-based performance metrics.'
} as const;

export const TokenSchema = {
    properties: {
        access_token: {
            type: 'string',
            title: 'Access Token'
        },
        token_type: {
            type: 'string',
            title: 'Token Type',
            default: 'bearer'
        },
        must_change_password: {
            type: 'boolean',
            title: 'Must Change Password',
            default: false
        },
        has_completed_tour: {
            type: 'boolean',
            title: 'Has Completed Tour',
            default: false
        }
    },
    type: 'object',
    required: ['access_token'],
    title: 'Token'
} as const;

export const TrendDataSchema = {
    properties: {
        metric_name: {
            type: 'string',
            title: 'Metric Name'
        },
        current_value: {
            type: 'number',
            title: 'Current Value'
        },
        previous_value: {
            type: 'number',
            title: 'Previous Value'
        },
        change_percent: {
            type: 'number',
            title: 'Change Percent'
        },
        trend: {
            type: 'string',
            enum: ['up', 'down', 'stable'],
            title: 'Trend'
        }
    },
    type: 'object',
    required: ['metric_name', 'current_value', 'previous_value', 'change_percent', 'trend'],
    title: 'TrendData',
    description: 'Trend analysis for a metric.'
} as const;

export const UnreadCountResponseSchema = {
    properties: {
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['count'],
    title: 'UnreadCountResponse',
    description: 'Schema for unread notification count response.'
} as const;

export const UnreadMessagesCountResponseSchema = {
    properties: {
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['count'],
    title: 'UnreadMessagesCountResponse',
    description: 'Schema for unread messages count response.'
} as const;

export const UpdateContentRequestSchema = {
    properties: {
        title: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Title',
            description: 'New title for the content'
        },
        content: {
            anyOf: [
                {
                    additionalProperties: true,
                    type: 'object'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Content',
            description: 'Updated content data'
        }
    },
    type: 'object',
    title: 'UpdateContentRequest',
    description: 'Request to update content in the library.'
} as const;

export const UpdateContentResponseSchema = {
    properties: {
        message: {
            type: 'string',
            title: 'Message'
        },
        content_id: {
            type: 'string',
            format: 'uuid',
            title: 'Content Id'
        },
        updated_at: {
            type: 'string',
            format: 'date-time',
            title: 'Updated At'
        }
    },
    type: 'object',
    required: ['message', 'content_id', 'updated_at'],
    title: 'UpdateContentResponse',
    description: 'Response for content update.'
} as const;

export const UpdatePasswordSchema = {
    properties: {
        current_password: {
            type: 'string',
            maxLength: 40,
            minLength: 8,
            title: 'Current Password'
        },
        new_password: {
            type: 'string',
            maxLength: 40,
            minLength: 8,
            title: 'New Password'
        }
    },
    type: 'object',
    required: ['current_password', 'new_password'],
    title: 'UpdatePassword'
} as const;

export const UploadResponseSchema = {
    properties: {
        material: {
            '$ref': '#/components/schemas/MaterialResponse'
        },
        quota: {
            '$ref': '#/components/schemas/StorageQuotaResponse'
        }
    },
    type: 'object',
    required: ['material', 'quota'],
    title: 'UploadResponse',
    description: 'Response after file upload.'
} as const;

export const UrlLinkCreateSchema = {
    properties: {
        name: {
            type: 'string',
            maxLength: 255,
            minLength: 1,
            title: 'Name'
        },
        url: {
            type: 'string',
            maxLength: 2000,
            title: 'Url'
        }
    },
    type: 'object',
    required: ['name', 'url'],
    title: 'UrlLinkCreate',
    description: 'Create a URL link.'
} as const;

export const UserCreateSchema = {
    properties: {
        email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        username: {
            type: 'string',
            maxLength: 50,
            minLength: 3,
            title: 'Username'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        },
        is_superuser: {
            type: 'boolean',
            title: 'Is Superuser',
            default: false
        },
        full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        role: {
            '$ref': '#/components/schemas/UserRole',
            default: 'student'
        },
        dcs_publisher_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Id',
            description: 'DCS Publisher ID - only set for publisher role users'
        },
        password: {
            type: 'string',
            maxLength: 40,
            minLength: 1,
            title: 'Password'
        }
    },
    type: 'object',
    required: ['username', 'password'],
    title: 'UserCreate'
} as const;

export const UserCreationResponseSchema = {
    properties: {
        user: {
            '$ref': '#/components/schemas/UserPublic'
        },
        role_record: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/TeacherPublic'
                },
                {
                    '$ref': '#/components/schemas/StudentPublic'
                }
            ],
            title: 'Role Record'
        },
        temporary_password: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Temporary Password'
        },
        password_emailed: {
            type: 'boolean',
            title: 'Password Emailed',
            default: false
        },
        message: {
            type: 'string',
            title: 'Message',
            default: ''
        }
    },
    type: 'object',
    required: ['user', 'role_record'],
    title: 'UserCreationResponse',
    description: `Response schema for role-specific user creation endpoints.

Security: temporary_password is only included when user has no email.
When user has email, password_emailed=True and temporary_password is None.`
} as const;

export const UserPublicSchema = {
    properties: {
        email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        username: {
            type: 'string',
            maxLength: 50,
            minLength: 3,
            title: 'Username'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        },
        is_superuser: {
            type: 'boolean',
            title: 'Is Superuser',
            default: false
        },
        full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        role: {
            '$ref': '#/components/schemas/UserRole',
            default: 'student'
        },
        dcs_publisher_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Id',
            description: 'DCS Publisher ID - only set for publisher role users'
        },
        id: {
            type: 'string',
            format: 'uuid',
            title: 'Id'
        },
        must_change_password: {
            type: 'boolean',
            title: 'Must Change Password',
            default: false
        },
        has_completed_tour: {
            type: 'boolean',
            title: 'Has Completed Tour',
            default: false
        },
        avatar_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Avatar Url'
        },
        avatar_type: {
            anyOf: [
                {
                    '$ref': '#/components/schemas/AvatarType'
                },
                {
                    type: 'null'
                }
            ]
        }
    },
    type: 'object',
    required: ['username', 'id'],
    title: 'UserPublic'
} as const;

export const UserRoleSchema = {
    type: 'string',
    enum: ['admin', 'supervisor', 'publisher', 'teacher', 'student'],
    title: 'UserRole',
    description: 'User role enumeration for RBAC'
} as const;

export const UserUpdateSchema = {
    properties: {
        email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'Username'
        },
        is_active: {
            type: 'boolean',
            title: 'Is Active',
            default: true
        },
        is_superuser: {
            type: 'boolean',
            title: 'Is Superuser',
            default: false
        },
        full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        role: {
            '$ref': '#/components/schemas/UserRole',
            default: 'student'
        },
        dcs_publisher_id: {
            anyOf: [
                {
                    type: 'integer'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Dcs Publisher Id'
        },
        password: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 40,
                    minLength: 1
                },
                {
                    type: 'null'
                }
            ],
            title: 'Password'
        }
    },
    type: 'object',
    title: 'UserUpdate'
} as const;

export const UserUpdateMeSchema = {
    properties: {
        full_name: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255
                },
                {
                    type: 'null'
                }
            ],
            title: 'Full Name'
        },
        email: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 255,
                    format: 'email'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Email'
        },
        username: {
            anyOf: [
                {
                    type: 'string',
                    maxLength: 50,
                    minLength: 3
                },
                {
                    type: 'null'
                }
            ],
            title: 'Username'
        }
    },
    type: 'object',
    title: 'UserUpdateMe'
} as const;

export const UsersPublicSchema = {
    properties: {
        data: {
            items: {
                '$ref': '#/components/schemas/UserPublic'
            },
            type: 'array',
            title: 'Data'
        },
        count: {
            type: 'integer',
            title: 'Count'
        }
    },
    type: 'object',
    required: ['data', 'count'],
    title: 'UsersPublic'
} as const;

export const ValidationErrorSchema = {
    properties: {
        loc: {
            items: {
                anyOf: [
                    {
                        type: 'string'
                    },
                    {
                        type: 'integer'
                    }
                ]
            },
            type: 'array',
            title: 'Location'
        },
        msg: {
            type: 'string',
            title: 'Message'
        },
        type: {
            type: 'string',
            title: 'Error Type'
        }
    },
    type: 'object',
    required: ['loc', 'msg', 'type'],
    title: 'ValidationError'
} as const;

export const VideoInfoSchema = {
    properties: {
        path: {
            type: 'string',
            title: 'Path'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        size_bytes: {
            type: 'integer',
            title: 'Size Bytes'
        },
        has_subtitles: {
            type: 'boolean',
            title: 'Has Subtitles'
        }
    },
    type: 'object',
    required: ['path', 'name', 'size_bytes', 'has_subtitles'],
    title: 'VideoInfo',
    description: 'Video file information from Dream Central Storage.'
} as const;

export const VideoResourceSchema = {
    properties: {
        type: {
            type: 'string',
            const: 'video',
            title: 'Type',
            default: 'video'
        },
        path: {
            type: 'string',
            title: 'Path'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        subtitles_enabled: {
            type: 'boolean',
            title: 'Subtitles Enabled',
            default: true
        },
        has_subtitles: {
            type: 'boolean',
            title: 'Has Subtitles',
            default: false
        }
    },
    type: 'object',
    required: ['path', 'name'],
    title: 'VideoResource',
    description: `Schema for a video resource attached to an assignment.

Story 10.3+: Video with subtitle control for students.`
} as const;

export const VocabularyListResponseSchema = {
    properties: {
        items: {
            items: {
                '$ref': '#/components/schemas/VocabularyWordResponse'
            },
            type: 'array',
            title: 'Items'
        },
        total: {
            type: 'integer',
            title: 'Total'
        },
        page: {
            type: 'integer',
            title: 'Page'
        },
        page_size: {
            type: 'integer',
            title: 'Page Size'
        },
        total_pages: {
            type: 'integer',
            title: 'Total Pages'
        }
    },
    type: 'object',
    required: ['items', 'total', 'page', 'page_size', 'total_pages'],
    title: 'VocabularyListResponse',
    description: 'Paginated vocabulary list response.'
} as const;

export const VocabularyQuizSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        questions: {
            items: {
                '$ref': '#/components/schemas/VocabularyQuizQuestion'
            },
            type: 'array',
            title: 'Questions'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        quiz_length: {
            type: 'integer',
            title: 'Quiz Length'
        },
        quiz_mode: {
            type: 'string',
            enum: ['definition', 'synonym', 'antonym', 'mixed'],
            title: 'Quiz Mode',
            description: 'Type of quiz: mixed (variety), definition, synonym, or antonym.',
            default: 'mixed'
        }
    },
    type: 'object',
    required: ['quiz_id', 'book_id', 'module_ids', 'questions', 'created_at', 'quiz_length'],
    title: 'VocabularyQuiz',
    description: `A complete vocabulary quiz with all questions.

This is the full quiz representation stored internally,
including correct answers.

Attributes:
    quiz_id: Unique identifier for the quiz.
    book_id: ID of the book the quiz is generated from.
    module_ids: List of module IDs used for the quiz.
    questions: List of quiz questions with answers.
    created_at: When the quiz was generated.
    quiz_length: Number of questions in the quiz.
    quiz_mode: Type of quiz (definition, synonym, antonym, or mixed).`
} as const;

export const VocabularyQuizGenerationRequestSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            anyOf: [
                {
                    items: {
                        type: 'integer'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Module Ids',
            description: 'Specific modules to use. If None, uses all modules.'
        },
        quiz_length: {
            type: 'integer',
            maximum: 50,
            minimum: 1,
            title: 'Quiz Length',
            description: 'Number of questions in the quiz (1-50).',
            default: 10
        },
        cefr_levels: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Cefr Levels',
            description: 'CEFR levels to filter: A1, A2, B1, B2, C1'
        },
        include_audio: {
            type: 'boolean',
            title: 'Include Audio',
            description: 'Whether to include audio URLs for pronunciation.',
            default: true
        },
        quiz_mode: {
            type: 'string',
            enum: ['definition', 'synonym', 'antonym', 'mixed'],
            title: 'Quiz Mode',
            description: 'Type of quiz: mixed (variety of definitions, synonyms, antonyms), definition, synonym, or antonym.',
            default: 'mixed'
        }
    },
    type: 'object',
    required: ['book_id'],
    title: 'VocabularyQuizGenerationRequest',
    description: `Request to generate a vocabulary quiz from book modules.

Attributes:
    book_id: ID of the book to generate quiz from.
    module_ids: Optional list of specific module IDs. If None, uses all modules.
    quiz_length: Number of questions in the quiz (1-50, default 10).
    cefr_levels: Optional list of CEFR levels to filter vocabulary.
    include_audio: Whether to include audio URLs for word pronunciation.
    quiz_mode: Type of quiz (definition, synonym, antonym, or mixed).`
} as const;

export const VocabularyQuizPublicSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        questions: {
            items: {
                '$ref': '#/components/schemas/VocabularyQuizQuestionPublic'
            },
            type: 'array',
            title: 'Questions'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        quiz_length: {
            type: 'integer',
            title: 'Quiz Length'
        },
        quiz_mode: {
            type: 'string',
            enum: ['definition', 'synonym', 'antonym', 'mixed'],
            title: 'Quiz Mode',
            description: 'Type of quiz: mixed (variety), definition, synonym, or antonym.',
            default: 'mixed'
        }
    },
    type: 'object',
    required: ['quiz_id', 'book_id', 'module_ids', 'questions', 'created_at', 'quiz_length'],
    title: 'VocabularyQuizPublic',
    description: `Public version of quiz without correct answers.

Returned to students when they access a quiz for taking.

Attributes:
    quiz_id: Unique identifier for the quiz.
    book_id: ID of the book the quiz is generated from.
    module_ids: List of module IDs used for the quiz.
    questions: List of quiz questions without answers.
    created_at: When the quiz was generated.
    quiz_length: Number of questions in the quiz.
    quiz_mode: Type of quiz (definition, synonym, antonym, or mixed).`
} as const;

export const VocabularyQuizQuestionSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        },
        correct_answer: {
            type: 'string',
            title: 'Correct Answer'
        },
        options: {
            items: {
                type: 'string'
            },
            type: 'array',
            maxItems: 4,
            minItems: 4,
            title: 'Options'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        },
        vocabulary_id: {
            type: 'string',
            title: 'Vocabulary Id'
        },
        cefr_level: {
            type: 'string',
            title: 'Cefr Level'
        },
        question_type: {
            type: 'string',
            enum: ['definition', 'synonym', 'antonym'],
            title: 'Question Type',
            description: 'Type of question: definition, synonym, or antonym.',
            default: 'definition'
        }
    },
    type: 'object',
    required: ['question_id', 'definition', 'correct_answer', 'options', 'vocabulary_id', 'cefr_level'],
    title: 'VocabularyQuizQuestion',
    description: `A single question in a vocabulary quiz.

Displays a prompt (definition, synonym, or antonym) and asks the student
to select the correct word from multiple options.

Attributes:
    question_id: Unique identifier for the question.
    definition: The prompt shown to the student (definition, synonym, or antonym).
    correct_answer: The correct word that matches the prompt.
    options: List of 4 word options including the correct answer.
    audio_url: Optional presigned URL for word pronunciation audio.
    vocabulary_id: Reference to the DCS vocabulary word ID.
    cefr_level: CEFR difficulty level of the word.
    question_type: Type of question (definition, synonym, antonym).`
} as const;

export const VocabularyQuizQuestionPublicSchema = {
    properties: {
        question_id: {
            type: 'string',
            title: 'Question Id'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        },
        options: {
            items: {
                type: 'string'
            },
            type: 'array',
            maxItems: 4,
            minItems: 4,
            title: 'Options'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        },
        cefr_level: {
            type: 'string',
            title: 'Cefr Level'
        },
        question_type: {
            type: 'string',
            enum: ['definition', 'synonym', 'antonym'],
            title: 'Question Type',
            description: 'Type of question: definition, synonym, or antonym.',
            default: 'definition'
        }
    },
    type: 'object',
    required: ['question_id', 'definition', 'options', 'cefr_level'],
    title: 'VocabularyQuizQuestionPublic',
    description: `Public version of quiz question without the correct answer.

Used when returning quiz questions to students before submission.
The correct_answer field is omitted to prevent cheating.

Attributes:
    question_id: Unique identifier for the question.
    definition: The prompt shown to the student (definition, synonym, or antonym).
    options: List of 4 word options.
    audio_url: Optional presigned URL for word pronunciation audio.
    cefr_level: CEFR difficulty level of the word.
    question_type: Type of question (definition, synonym, antonym).`
} as const;

export const VocabularyQuizResultSchema = {
    properties: {
        quiz_id: {
            type: 'string',
            title: 'Quiz Id'
        },
        student_id: {
            type: 'string',
            format: 'uuid',
            title: 'Student Id'
        },
        score: {
            type: 'integer',
            minimum: 0,
            title: 'Score'
        },
        total: {
            type: 'integer',
            minimum: 1,
            title: 'Total'
        },
        percentage: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Percentage'
        },
        question_results: {
            items: {
                '$ref': '#/components/schemas/QuestionResult'
            },
            type: 'array',
            title: 'Question Results'
        },
        submitted_at: {
            type: 'string',
            format: 'date-time',
            title: 'Submitted At'
        }
    },
    type: 'object',
    required: ['quiz_id', 'student_id', 'score', 'total', 'percentage', 'question_results', 'submitted_at'],
    title: 'VocabularyQuizResult',
    description: `Complete results of a submitted vocabulary quiz.

Returned after a student submits their answers, revealing
the correct answers and calculating the score.

Attributes:
    quiz_id: ID of the quiz.
    student_id: ID of the student who submitted.
    score: Number of correct answers.
    total: Total number of questions.
    percentage: Score as a percentage (0-100).
    question_results: Detailed results for each question.
    submitted_at: When the quiz was submitted.`
} as const;

export const VocabularyQuizSubmissionSchema = {
    properties: {
        answers: {
            additionalProperties: {
                type: 'string'
            },
            type: 'object',
            title: 'Answers',
            description: 'Map of question_id to selected answer word.'
        }
    },
    type: 'object',
    required: ['answers'],
    title: 'VocabularyQuizSubmission',
    description: `Student's submission of quiz answers.

Maps question IDs to the selected answer words.

Attributes:
    answers: Dictionary mapping question_id to selected word.`
} as const;

export const VocabularyWordResponseSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        word: {
            type: 'string',
            title: 'Word'
        },
        translation: {
            type: 'string',
            title: 'Translation'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        },
        example_sentence: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Example Sentence'
        },
        cefr_level: {
            type: 'string',
            title: 'Cefr Level'
        },
        part_of_speech: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Part Of Speech'
        },
        module_name: {
            type: 'string',
            title: 'Module Name'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        has_audio: {
            type: 'boolean',
            title: 'Has Audio',
            default: false
        }
    },
    type: 'object',
    required: ['id', 'word', 'translation', 'definition', 'example_sentence', 'cefr_level', 'part_of_speech', 'module_name', 'book_id'],
    title: 'VocabularyWordResponse',
    description: 'A single vocabulary word for display.'
} as const;

export const WebhookEventTypeSchema = {
    type: 'string',
    enum: ['book.created', 'book.updated', 'book.deleted', 'publisher.created', 'publisher.updated', 'publisher.deleted'],
    title: 'WebhookEventType',
    description: 'Webhook event type enumeration'
} as const;

export const WebhookPayloadSchema = {
    properties: {
        event: {
            '$ref': '#/components/schemas/WebhookEventType'
        },
        timestamp: {
            type: 'string',
            format: 'date-time',
            title: 'Timestamp'
        },
        data: {
            additionalProperties: true,
            type: 'object',
            title: 'Data'
        }
    },
    type: 'object',
    required: ['event', 'timestamp', 'data'],
    title: 'WebhookPayload',
    description: `Webhook payload schema from Dream Central Storage.

Supports both book and publisher events. The data field structure
depends on the event type:
- book.* events: data contains WebhookBookData fields
- publisher.* events: data contains WebhookPublisherData fields`
} as const;

export const WordBuilderActivitySchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        words: {
            items: {
                '$ref': '#/components/schemas/WordBuilderItem'
            },
            type: 'array',
            title: 'Words'
        },
        hint_type: {
            type: 'string',
            title: 'Hint Type'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        }
    },
    type: 'object',
    required: ['activity_id', 'book_id', 'module_ids', 'words', 'hint_type', 'created_at'],
    title: 'WordBuilderActivity',
    description: `A complete word builder activity.

This is the full activity representation stored internally,
including the correct words.

Attributes:
    activity_id: Unique identifier for the activity.
    book_id: ID of the book the activity is generated from.
    module_ids: List of module IDs used for the activity.
    words: List of word items with correct answers.
    hint_type: Type of hint shown to students.
    created_at: When the activity was generated.`
} as const;

export const WordBuilderActivityPublicSchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            items: {
                type: 'integer'
            },
            type: 'array',
            title: 'Module Ids'
        },
        words: {
            items: {
                '$ref': '#/components/schemas/WordBuilderItemPublic'
            },
            type: 'array',
            title: 'Words'
        },
        hint_type: {
            type: 'string',
            title: 'Hint Type'
        },
        created_at: {
            type: 'string',
            format: 'date-time',
            title: 'Created At'
        },
        word_count: {
            type: 'integer',
            title: 'Word Count'
        }
    },
    type: 'object',
    required: ['activity_id', 'book_id', 'module_ids', 'words', 'hint_type', 'created_at', 'word_count'],
    title: 'WordBuilderActivityPublic',
    description: `Public version of activity without correct word strings.

Returned to students when they access an activity for taking.
The correct_word field is omitted from items.

Attributes:
    activity_id: Unique identifier for the activity.
    book_id: ID of the book the activity is generated from.
    module_ids: List of module IDs used for the activity.
    words: List of word items (letters only, no correct word).
    hint_type: Type of hint shown to students.
    created_at: When the activity was generated.
    word_count: Total number of words.`
} as const;

export const WordBuilderItemSchema = {
    properties: {
        item_id: {
            type: 'string',
            title: 'Item Id'
        },
        correct_word: {
            type: 'string',
            title: 'Correct Word'
        },
        letters: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Letters'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        },
        vocabulary_id: {
            type: 'string',
            title: 'Vocabulary Id'
        },
        cefr_level: {
            type: 'string',
            title: 'Cefr Level'
        }
    },
    type: 'object',
    required: ['item_id', 'correct_word', 'letters', 'definition', 'vocabulary_id', 'cefr_level'],
    title: 'WordBuilderItem',
    description: `A single word item in the activity.

Contains the correct word and scrambled letters.

Attributes:
    item_id: Unique identifier for this word.
    correct_word: The correct word spelling.
    letters: Scrambled letters for the student to arrange.
    definition: Definition text as hint.
    audio_url: Audio URL for pronunciation (after correct spelling).
    vocabulary_id: ID of the vocabulary entry from DCS.
    cefr_level: CEFR level of the word.`
} as const;

export const WordBuilderItemPublicSchema = {
    properties: {
        item_id: {
            type: 'string',
            title: 'Item Id'
        },
        letters: {
            items: {
                type: 'string'
            },
            type: 'array',
            title: 'Letters'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        },
        letter_count: {
            type: 'integer',
            title: 'Letter Count'
        }
    },
    type: 'object',
    required: ['item_id', 'letters', 'definition', 'letter_count'],
    title: 'WordBuilderItemPublic',
    description: `Public version of a word item without the correct answer.

Attributes:
    item_id: Unique identifier for this word.
    letters: Scrambled letters for the student to arrange.
    definition: Definition text as hint.
    audio_url: Audio URL (may be withheld until correct).
    letter_count: Number of letters in the word.`
} as const;

export const WordBuilderRequestSchema = {
    properties: {
        book_id: {
            type: 'integer',
            title: 'Book Id'
        },
        module_ids: {
            anyOf: [
                {
                    items: {
                        type: 'integer'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Module Ids',
            description: 'Specific modules to use. If None, uses all modules.'
        },
        word_count: {
            type: 'integer',
            maximum: 50,
            minimum: 1,
            title: 'Word Count',
            description: 'Number of words (1-50).',
            default: 10
        },
        cefr_levels: {
            anyOf: [
                {
                    items: {
                        type: 'string'
                    },
                    type: 'array'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Cefr Levels',
            description: "Optional CEFR levels to filter (e.g., ['A1', 'A2'])."
        },
        hint_type: {
            type: 'string',
            enum: ['definition', 'audio', 'both'],
            title: 'Hint Type',
            description: 'Type of hint: definition text, audio pronunciation, or both.',
            default: 'both'
        }
    },
    type: 'object',
    required: ['book_id'],
    title: 'WordBuilderRequest',
    description: `Request to generate a word builder activity.

Attributes:
    book_id: ID of the book to fetch vocabulary from.
    module_ids: Optional list of specific module IDs. If None, uses all modules.
    word_count: Number of words in the activity (1-15).
    cefr_levels: Optional list of CEFR levels to filter vocabulary.
    hint_type: Type of hint to show (definition, audio, or both).`
} as const;

export const WordBuilderResultSchema = {
    properties: {
        activity_id: {
            type: 'string',
            title: 'Activity Id'
        },
        student_id: {
            type: 'string',
            title: 'Student Id'
        },
        score: {
            type: 'integer',
            minimum: 0,
            title: 'Score'
        },
        max_score: {
            type: 'integer',
            minimum: 1,
            title: 'Max Score'
        },
        percentage: {
            type: 'number',
            maximum: 100,
            minimum: 0,
            title: 'Percentage'
        },
        correct_count: {
            type: 'integer',
            minimum: 0,
            title: 'Correct Count'
        },
        total: {
            type: 'integer',
            minimum: 1,
            title: 'Total'
        },
        word_results: {
            items: {
                '$ref': '#/components/schemas/WordResult'
            },
            type: 'array',
            title: 'Word Results'
        },
        perfect_words: {
            type: 'integer',
            minimum: 0,
            title: 'Perfect Words'
        },
        average_attempts: {
            type: 'number',
            minimum: 0,
            title: 'Average Attempts'
        },
        submitted_at: {
            type: 'string',
            format: 'date-time',
            title: 'Submitted At'
        }
    },
    type: 'object',
    required: ['activity_id', 'student_id', 'score', 'max_score', 'percentage', 'correct_count', 'total', 'word_results', 'perfect_words', 'average_attempts', 'submitted_at'],
    title: 'WordBuilderResult',
    description: `Complete results of a submitted word builder activity.

Returned after a student submits their answers, revealing
the correct words and calculating the score.

Attributes:
    activity_id: ID of the activity.
    student_id: ID of the student who submitted.
    score: Total points earned.
    max_score: Maximum possible score (word_count * 100).
    percentage: Score as a percentage (0-100).
    correct_count: Number of words spelled correctly.
    total: Total number of words.
    word_results: Detailed results for each word.
    perfect_words: Number of words correct on first try.
    average_attempts: Average attempts per word.
    submitted_at: When the activity was submitted.`
} as const;

export const WordBuilderSubmissionSchema = {
    properties: {
        answers: {
            additionalProperties: {
                type: 'string'
            },
            type: 'object',
            title: 'Answers',
            description: 'Map of item_id to spelled word string.'
        },
        attempts: {
            additionalProperties: {
                type: 'integer'
            },
            type: 'object',
            title: 'Attempts',
            description: 'Map of item_id to attempt count.'
        }
    },
    type: 'object',
    required: ['answers'],
    title: 'WordBuilderSubmission',
    description: `Student's submission of word spellings.

Maps word item IDs to the student's spelled word and attempt count.

Attributes:
    answers: Dictionary mapping item_id to spelled word string.
    attempts: Dictionary mapping item_id to number of attempts.`
} as const;

export const WordMatchingErrorSchema = {
    properties: {
        word: {
            type: 'string',
            title: 'Word'
        },
        correct_match: {
            type: 'string',
            title: 'Correct Match'
        },
        common_incorrect_match: {
            type: 'string',
            title: 'Common Incorrect Match'
        },
        error_count: {
            type: 'integer',
            title: 'Error Count'
        }
    },
    type: 'object',
    required: ['word', 'correct_match', 'common_incorrect_match', 'error_count'],
    title: 'WordMatchingError',
    description: 'Common incorrect word pair mappings.'
} as const;

export const WordResultSchema = {
    properties: {
        item_id: {
            type: 'string',
            title: 'Item Id'
        },
        submitted_word: {
            type: 'string',
            title: 'Submitted Word'
        },
        correct_word: {
            type: 'string',
            title: 'Correct Word'
        },
        is_correct: {
            type: 'boolean',
            title: 'Is Correct'
        },
        attempts: {
            type: 'integer',
            title: 'Attempts'
        },
        points: {
            type: 'integer',
            title: 'Points'
        },
        audio_url: {
            anyOf: [
                {
                    type: 'string'
                },
                {
                    type: 'null'
                }
            ],
            title: 'Audio Url'
        },
        definition: {
            type: 'string',
            title: 'Definition'
        }
    },
    type: 'object',
    required: ['item_id', 'submitted_word', 'correct_word', 'is_correct', 'attempts', 'points', 'definition'],
    title: 'WordResult',
    description: `Result for a single word after submission.

Attributes:
    item_id: ID of the word item.
    submitted_word: The student's submitted spelling.
    correct_word: The correct word spelling.
    is_correct: Whether the submission was correct.
    attempts: Number of attempts the student made.
    points: Points earned for this word (based on attempts).
    audio_url: Audio URL for the correct word (for review).
    definition: Definition of the word (for review).`
} as const;

export const WordSearchAnalysisSchema = {
    properties: {
        word: {
            type: 'string',
            title: 'Word'
        },
        find_rate: {
            type: 'number',
            title: 'Find Rate'
        },
        found_count: {
            type: 'integer',
            title: 'Found Count'
        },
        total_attempts: {
            type: 'integer',
            title: 'Total Attempts'
        }
    },
    type: 'object',
    required: ['word', 'find_rate', 'found_count', 'total_attempts'],
    title: 'WordSearchAnalysis',
    description: 'Analysis for word search activity.'
} as const;

export const app__api__routes__vocabulary_explorer__ModuleInfoSchema = {
    properties: {
        id: {
            type: 'string',
            title: 'Id'
        },
        name: {
            type: 'string',
            title: 'Name'
        },
        vocabulary_count: {
            type: 'integer',
            title: 'Vocabulary Count'
        }
    },
    type: 'object',
    required: ['id', 'name', 'vocabulary_count'],
    title: 'ModuleInfo',
    description: 'Module information for vocabulary filtering.'
} as const;

export const app__models__NotificationTypeSchema = {
    type: 'string',
    enum: ['assignment_created', 'deadline_approaching', 'feedback_received', 'message_received', 'student_completed', 'past_due', 'material_shared', 'system_announcement', 'password_reset', 'announcement'],
    title: 'NotificationType',
    description: 'Notification type enumeration'
} as const;

export const app__schemas__book__ModuleInfoSchema = {
    properties: {
        name: {
            type: 'string',
            title: 'Name'
        },
        first_page_index: {
            type: 'integer',
            title: 'First Page Index'
        },
        page_count: {
            type: 'integer',
            title: 'Page Count'
        }
    },
    type: 'object',
    required: ['name', 'first_page_index', 'page_count'],
    title: 'ModuleInfo',
    description: 'Module metadata for navigation shortcuts.'
} as const;

export const app__schemas__notification__NotificationTypeSchema = {
    type: 'string',
    enum: ['assignment_created', 'deadline_approaching', 'feedback_received', 'message_received', 'student_completed', 'past_due', 'material_shared', 'system_announcement', 'password_reset', 'announcement'],
    title: 'NotificationType',
    description: 'Enum for notification types.'
} as const;